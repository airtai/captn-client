
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Captn client library">
      
      
        <meta name="author" content="airt.ai">
      
      
        <link rel="canonical" href="https://airtai.github.io/captn-client/captn_api_docs/captn/client/">
      
      
        <link rel="prev" href="../../../Tutorial/">
      
      
        <link rel="next" href="../../../captn_cli_docs/captn/">
      
      <link rel="icon" href="../../../overrides/images/compass-outline.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5">
    
    
      
        <title>captn.client - captn</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7a7fce14.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../overrides/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  
    
  
  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="captn - captn.client" />
  <meta property="og:description" content="Captn client library" />
  <meta property="og:url" content="https://airtai.github.io/captn-client/captn_api_docs/captn/client/" />
  <meta property="og:image" content="https://opengraph.githubassets.com/1672044312.260023/airtai/captn-client" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="captn - captn.client" />
  <meta name="twitter:description" content="Captn client library" />
  <meta name="twitter:image" content="https://opengraph.githubassets.com/1672044312.260023/airtai/captn-client" />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="yellow">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#captn.client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="captn" class="md-header__button md-logo" aria-label="captn" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7 17 3.2-6.8L17 7l-3.2 6.8L7 17m5-5.9a.9.9 0 0 0-.9.9.9.9 0 0 0 .9.9.9.9 0 0 0 .9-.9.9.9 0 0 0-.9-.9M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            captn
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              captn.client
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="yellow"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/airtai/captn-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    captn-client
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="captn" class="md-nav__button md-logo" aria-label="captn" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7 17 3.2-6.8L17 7l-3.2 6.8L7 17m5-5.9a.9.9 0 0 0-.9.9.9.9 0 0 0 .9.9.9.9 0 0 0 .9-.9.9.9 0 0 0-.9-.9M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8Z"/></svg>

    </a>
    captn
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/airtai/captn-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    captn-client
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Capt'n python client
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          captn.client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        captn.client
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#captn.client" class="md-nav__link">
    captn.client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.APIKey" class="md-nav__link">
    APIKey
  </a>
  
    <nav class="md-nav" aria-label="APIKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.revoke" class="md-nav__link">
    revoke()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.Client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.set_sso_token" class="md-nav__link">
    set_sso_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.set_token" class="md-nav__link">
    set_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.DataBlob" class="md-nav__link">
    DataBlob
  </a>
  
    <nav class="md-nav" aria-label="DataBlob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_azure_blob_storage" class="md-nav__link">
    from_azure_blob_storage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_clickhouse" class="md-nav__link">
    from_clickhouse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_local" class="md-nav__link">
    from_local()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_mysql" class="md-nav__link">
    from_mysql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_s3" class="md-nav__link">
    from_s3()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.is_ready" class="md-nav__link">
    is_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.progress_bar" class="md-nav__link">
    progress_bar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.set_default_cloud_provider" class="md-nav__link">
    set_default_cloud_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.tag" class="md-nav__link">
    tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.to_datasource" class="md-nav__link">
    to_datasource()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.wait" class="md-nav__link">
    wait()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.DataSource" class="md-nav__link">
    DataSource
  </a>
  
    <nav class="md-nav" aria-label="DataSource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.dtypes" class="md-nav__link">
    dtypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.head" class="md-nav__link">
    head()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.is_ready" class="md-nav__link">
    is_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.progress_bar" class="md-nav__link">
    progress_bar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.tag" class="md-nav__link">
    tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.train" class="md-nav__link">
    train()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.wait" class="md-nav__link">
    wait()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.User" class="md-nav__link">
    User
  </a>
  
    <nav class="md-nav" aria-label="User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.User.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.activate_mfa" class="md-nav__link">
    activate_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable_mfa" class="md-nav__link">
    disable_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable_sso" class="md-nav__link">
    disable_sso()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable_mfa" class="md-nav__link">
    enable_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable_sso" class="md-nav__link">
    enable_sso()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.register_phone_number" class="md-nav__link">
    register_phone_number()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.reset_password" class="md-nav__link">
    reset_password()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.send_sms_otp" class="md-nav__link">
    send_sms_otp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.validate_phone_number" class="md-nav__link">
    validate_phone_number()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.cls" class="md-nav__link">
    cls
  </a>
  
    <nav class="md-nav" aria-label="cls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.revoke" class="md-nav__link">
    revoke()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../captn_cli_docs/captn/" class="md-nav__link">
        captn
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../CHANGELOG/" class="md-nav__link">
        Releases
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#captn.client" class="md-nav__link">
    captn.client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.APIKey" class="md-nav__link">
    APIKey
  </a>
  
    <nav class="md-nav" aria-label="APIKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.APIKey.revoke" class="md-nav__link">
    revoke()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.Client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.set_sso_token" class="md-nav__link">
    set_sso_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.set_token" class="md-nav__link">
    set_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.Client.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.DataBlob" class="md-nav__link">
    DataBlob
  </a>
  
    <nav class="md-nav" aria-label="DataBlob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_azure_blob_storage" class="md-nav__link">
    from_azure_blob_storage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_clickhouse" class="md-nav__link">
    from_clickhouse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_local" class="md-nav__link">
    from_local()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_mysql" class="md-nav__link">
    from_mysql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.from_s3" class="md-nav__link">
    from_s3()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.is_ready" class="md-nav__link">
    is_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.progress_bar" class="md-nav__link">
    progress_bar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.set_default_cloud_provider" class="md-nav__link">
    set_default_cloud_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.tag" class="md-nav__link">
    tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.to_datasource" class="md-nav__link">
    to_datasource()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataBlob.wait" class="md-nav__link">
    wait()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.DataSource" class="md-nav__link">
    DataSource
  </a>
  
    <nav class="md-nav" aria-label="DataSource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.dtypes" class="md-nav__link">
    dtypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.head" class="md-nav__link">
    head()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.is_ready" class="md-nav__link">
    is_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.progress_bar" class="md-nav__link">
    progress_bar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.tag" class="md-nav__link">
    tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.train" class="md-nav__link">
    train()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.DataSource.wait" class="md-nav__link">
    wait()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.User" class="md-nav__link">
    User
  </a>
  
    <nav class="md-nav" aria-label="User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.User.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.activate_mfa" class="md-nav__link">
    activate_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable_mfa" class="md-nav__link">
    disable_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.disable_sso" class="md-nav__link">
    disable_sso()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable_mfa" class="md-nav__link">
    enable_mfa()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.enable_sso" class="md-nav__link">
    enable_sso()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.register_phone_number" class="md-nav__link">
    register_phone_number()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.reset_password" class="md-nav__link">
    reset_password()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.send_sms_otp" class="md-nav__link">
    send_sms_otp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.User.validate_phone_number" class="md-nav__link">
    validate_phone_number()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captn.client.cls" class="md-nav__link">
    cls
  </a>
  
    <nav class="md-nav" aria-label="cls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.as_df" class="md-nav__link">
    as_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.details" class="md-nav__link">
    details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captn.client.cls.revoke" class="md-nav__link">
    revoke()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>captn.client</h1>

<div class="doc doc-object doc-module">

<a id="captn.client"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h2 id="captn.client.APIKey" class="doc doc-heading">
        <code>
APIKey        </code>



<a href="#captn.client.APIKey" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for managing the APIKeys in the server.</p>
<p>Both the APIKey and the token can be used for accessing the captn services. However, there is a slight difference in generating and managing the two.</p>
<p>For generating the APIKey, you first need to get the developer token. Please refer to <code>Client.get_token</code> method documentation to generate one.</p>
<p>After logging in with your developer token, you can create any number of new APIKeys and can set an expiration date individually. You can also access
other methods available in the APIKey class to list, revoke the APIKey at any time.</p>
<p>Here's an example of how to use the APIKey class to create a new key and use it to access the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a new key with the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">new_key</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># Call the set_token method to set the newly generated key</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">new_key</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">])</span>

<span class="c1"># Print the logged-in user details</span>
<span class="c1"># If set_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#captn.client.APIKey.__init__" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Constructs a new APIKey instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>str</code></td>
        <td><p>APIKey uuid.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey name.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expiry</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey expiry date.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to indicate the status of the APIKey.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>created</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey creation date.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">expiry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a new APIKey instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: APIKey uuid.</span>
<span class="sd">        name: APIKey name.</span>
<span class="sd">        expiry: APIKey expiry date.</span>
<span class="sd">        disabled: Flag to indicate the status of the APIKey.</span>
<span class="sd">        created: APIKey creation date.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">expiry</span> <span class="o">=</span> <span class="n">expiry</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">disabled</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.as_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.APIKey.as_df" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the details of APIKey instances in a pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ax</code></td>
        <td><code>List[APIKey]</code></td>
        <td><p>List of APIKey instances.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>Details of all the APIKeys in a dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the APIKeys generated by the currently logged-in user in a dataframe</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display all the APIKey instance details in a pandas dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the details of APIKey instances in a pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        ax: List of APIKey instances.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Details of all the APIKeys in a dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example of displaying the APIKeys generated by the currently logged-in user in a dataframe</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Display all the APIKey instance details in a pandas dataframe</span>
<span class="sd">        df = APIKey.as_df(APIKey.ls())</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="n">get_attributes_from_instances</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">lists</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.create" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.APIKey.create" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create a new APIKey</p>
<p>In order to access the captn service with the newly generated APIKey, please call the <code>Client.set_token</code> method
or set the APIKey value in the <strong>CAPTN_SERVICE_TOKEN</strong> environment variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>The APIKey's name must be unique. If not, an exception will be raised while creating a new key with the name of an existing key.
However, you can create a new key with the name of a revoked key.</p>
</li>
<li>
<p>The expiry for an APIKey is optional, if not passed then the default value <strong>None</strong> will be used to create an APIKey with no expiry date!</p>
</li>
</ul>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the APIKey.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expiry</code></td>
        <td><code>Union[int, datetime.timedelta, datetime.datetime]</code></td>
        <td><p>The validity for the APIKey. This can be an integer representing the number of days till expiry, can be
an instance of timedelta (timedelta(days=x)) or can be an instance of datetime. If not passed, then the default value
<strong>None</strong> will be used to create a APIKey that will never expire!</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if the MFA is enabled for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>The APIKey and its type as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user is not authenticated.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user tries to create a new APIKey with an existing key name.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>In the following example, a new APIKey is created with a 10-day expiration date and used to access the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key with the given name and set the expiry to 10 days from now.</span>
<span class="c1"># If the expiry parameter is not specified, a key with no expiry date is created.</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">new_key_details</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># If a new key with the same name is created, an exception will be raised.</span>
<span class="c1"># However, you can create a new key with the name of a revoked key.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>

<span class="c1"># Finally, either call the below method to set the newly generated key</span>
<span class="c1"># or store it in the CAPTN_SERVICE_TOKEN environment variable.</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">new_key_details</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">])</span>

<span class="c1"># If set_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">create</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">expiry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new APIKey</span>

<span class="sd">    In order to access the airt service with the newly generated APIKey, please call the `Client.set_token` method</span>
<span class="sd">    or set the APIKey value in the **AIRT_SERVICE_TOKEN** environment variable.</span>

<span class="sd">    !!! note</span>

<span class="sd">        - The APIKey&#39;s name must be unique. If not, an exception will be raised while creating a new key with the name of an existing key.</span>
<span class="sd">        However, you can create a new key with the name of a revoked key.</span>

<span class="sd">        - The expiry for an APIKey is optional, if not passed then the default value **None** will be used to create an APIKey with no expiry date!</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the APIKey.</span>
<span class="sd">        expiry: The validity for the APIKey. This can be an integer representing the number of days till expiry, can be</span>
<span class="sd">            an instance of timedelta (timedelta(days=x)) or can be an instance of datetime. If not passed, then the default value</span>
<span class="sd">            **None** will be used to create a APIKey that will never expire!</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if the MFA is enabled for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The APIKey and its type as a dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the user is not authenticated.</span>
<span class="sd">        ValueError: If the user tries to create a new APIKey with an existing key name.</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    In the following example, a new APIKey is created with a 10-day expiration date and used to access the airt service.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key with the given name and set the expiry to 10 days from now.</span>
<span class="sd">        # If the expiry parameter is not specified, a key with no expiry date is created.</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        new_key_details = APIKey.create(name=key_name, expiry=10)</span>

<span class="sd">        # Display the details of the newly created key</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>

<span class="sd">        # If a new key with the same name is created, an exception will be raised.</span>
<span class="sd">        # However, you can create a new key with the name of a revoked key.</span>
<span class="sd">        try:</span>
<span class="sd">            APIKey.create(name=key_name, expiry=10)</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>

<span class="sd">        # Finally, either call the below method to set the newly generated key</span>
<span class="sd">        # or store it in the AIRT_SERVICE_TOKEN environment variable.</span>
<span class="sd">        Client.set_token(token=new_key_details[&quot;access_token&quot;])</span>

<span class="sd">        # If set_token fails, the line below will throw an error.</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">expiry</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expiry_date</span> <span class="o">=</span> <span class="n">expiry</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">expiry</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">expiry</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">expiry</span>

        <span class="n">expiry_date</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/apikey&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="n">expiry_date</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.APIKey.details" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return details of an APIKey.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>apikey</code></td>
        <td><code>str</code></td>
        <td><p>APIKey uuid/name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas Dataframe encapsulating the details of the APIKey.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the APIKey uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example to get details of an APIKey</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># To display the details of all keys created by the user, use the method below.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="n">apikey</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of an APIKey.</span>

<span class="sd">    Args:</span>
<span class="sd">        apikey: APIKey uuid/name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas Dataframe encapsulating the details of the APIKey.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the APIKey uuid is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example to get details of an APIKey</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Display the details of the newly created key</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>

<span class="sd">        # To display the details of all keys created by the user, use the method below.</span>
<span class="sd">        df = APIKey.as_df(APIKey.ls())</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/apikey/</span><span class="si">{</span><span class="n">apikey</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">details</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">include_disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.APIKey.ls" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of APIKeys instances.</p>
<p>Please do not pass the <strong>user</strong> parameter unless you are a super user. Only a super user can view
the APIKeys created by other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>user_uuid/username associated with the APIKey. Please call <code>User.details</code> method of the User class to get your user_uuid.
If not passed, then the currently logged-in user_uuid will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>offset</code></td>
        <td><code>int</code></td>
        <td><p>The number of APIKeys to offset at the beginning. If None, then the default value 0 will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of APIKeys to return from the server. If None, then the default value 100 will be used.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>include_disabled</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then the disabled APIKeys will also be included in the result.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[APIKey]</code></td>
      <td><p>A list of APIKey instances.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid is invalid.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the APIKeys generated by the currently logged-in user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Get the list of all APIKey instances created by the currently logged-in user.</span>
<span class="c1"># If you are a super user, you can view the APIkeys created by other users by</span>
<span class="c1"># passing their uuid/username in the user parameter.</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Display the details of the instances in a pandas dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">ls</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">include_disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the list of APIKeys instances.</span>

<span class="sd">    Please do not pass the **user** parameter unless you are a super user. Only a super user can view</span>
<span class="sd">    the APIKeys created by other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user_uuid/username associated with the APIKey. Please call `User.details` method of the User class to get your user_uuid.</span>
<span class="sd">            If not passed, then the currently logged-in user_uuid will be used.</span>
<span class="sd">        offset: The number of APIKeys to offset at the beginning. If None, then the default value 0 will be used.</span>
<span class="sd">        limit: The maximum number of APIKeys to return from the server. If None, then the default value 100 will be used.</span>
<span class="sd">        include_disabled: If set to **True**, then the disabled APIKeys will also be included in the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of APIKey instances.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        ValueError: If the user_uuid is invalid.</span>

<span class="sd">    An example of displaying the APIKeys generated by the currently logged-in user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Get the list of all APIKey instances created by the currently logged-in user.</span>
<span class="sd">        # If you are a super user, you can view the APIkeys created by other users by</span>
<span class="sd">        # passing their uuid/username in the user parameter.</span>
<span class="sd">        ax = APIKey.ls()</span>
<span class="sd">        print(ax)</span>

<span class="sd">        # Display the details of the instances in a pandas dataframe</span>
<span class="sd">        df = APIKey.as_df(ax)</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>

    <span class="n">apikeys</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/apikey?include_disabled=</span><span class="si">{</span><span class="n">include_disabled</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">APIKey</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">expiry</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;expiry&quot;</span><span class="p">],</span>
            <span class="n">disabled</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
            <span class="n">created</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">apikey</span> <span class="ow">in</span> <span class="n">apikeys</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">ax</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.APIKey.revoke" class="doc doc-heading">
<code class="highlight language-python"><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.APIKey.revoke" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Revoke one or more APIKeys</p>
<p>Please do not pass the <strong>user</strong> parameter unless you are a super user. Only a super user can revoke the
APIKeys created by other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>keys</code></td>
        <td><code>Union[str, List[str], List[APIKey]]</code></td>
        <td><p>APIKey uuid/name to revoke. To revoke multiple keys, either pass a list of APIKey uuid/names or a list of APIKey instances.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>user_uuid/username associated with the APIKey. Please call <code>User.details</code> method of the User class to get your user_uuid/username.
If not passed, then the currently logged-in user will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if the MFA is enabled for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas Dataframe encapsulating the details of the deleted APIKey(s).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the APIKey uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example to revoke a single APIKey by name</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Check that the newly created key exists</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()])</span>

<span class="c1"># Revoke the newly created key</span>
<span class="c1"># To delete multiple keys, pass a list of key names or key instances</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Check that the newly created key does not exists</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()])</span>
</code></pre></div>
      <p>Here's an example of a super user revoking all APIkeys generated by a specific user.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># List the APIKeys generated by a specific user</span>
<span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;{fill in other_username}&quot;</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">])</span>

<span class="c1"># Revoke the APIKeys</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>

<span class="c1"># Check that all APIkeys have been revoked</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">revoke</span><span class="p">(</span>
    <span class="n">keys</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">]],</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Revoke one or more APIKeys</span>

<span class="sd">    Please do not pass the **user** parameter unless you are a super user. Only a super user can revoke the</span>
<span class="sd">    APIKeys created by other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        keys: APIKey uuid/name to revoke. To revoke multiple keys, either pass a list of APIKey uuid/names or a list of APIKey instances.</span>
<span class="sd">        user: user_uuid/username associated with the APIKey. Please call `User.details` method of the User class to get your user_uuid/username.</span>
<span class="sd">            If not passed, then the currently logged-in user will be used.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if the MFA is enabled for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">         A pandas Dataframe encapsulating the details of the deleted APIKey(s).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the APIKey uuid is invalid.</span>
<span class="sd">        ValueError: If the user_uuid is invalid.</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example to revoke a single APIKey by name</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Check that the newly created key exists</span>
<span class="sd">        print([key.name for key in APIKey.ls()])</span>

<span class="sd">        # Revoke the newly created key</span>
<span class="sd">        # To delete multiple keys, pass a list of key names or key instances</span>
<span class="sd">        APIKey.revoke(keys=key_name)</span>

<span class="sd">        # Check that the newly created key does not exists</span>
<span class="sd">        print([key.name for key in APIKey.ls()])</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of a super user revoking all APIkeys generated by a specific user.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # List the APIKeys generated by a specific user</span>
<span class="sd">        user = &quot;{fill in other_username}&quot;</span>
<span class="sd">        ax = APIKey.ls(user=user)</span>
<span class="sd">        print([key.name for key in ax])</span>

<span class="sd">        # Revoke the APIKeys</span>
<span class="sd">        APIKey.revoke(keys=ax, user=user)</span>

<span class="sd">        # Check that all APIkeys have been revoked</span>
<span class="sd">        print([key.name for key in APIKey.ls(user=user)])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
    <span class="n">_keys</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">_get_key_names</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

    <span class="n">response_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">key_uuid</span> <span class="ow">in</span> <span class="n">_keys</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/apikey/</span><span class="si">{</span><span class="n">key_uuid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">response_list</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="captn.client.Client" class="doc doc-heading">
        <code>
Client        </code>



<a href="#captn.client.Client" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for authenticating and accessing the captn service.</p>
<p>To access the captn service, you must first create a developer account. To obtain one, please contact us at <a href="mailto:info@captn.ai">info@captn.ai</a>.</p>
<p>After successful verification, you will receive an email with the username and password for the developer account.</p>
<p>Once you have the credentials, use them to get an access token by calling <code>get_token</code> method. It is necessary to get
an access token; otherwise, you won't be able to access all of the captn service's APIs. You can either pass the username, password, and server
address as parameters to the <code>get_token</code> method or store them in the environment variables <strong>CAPTN_SERVICE_USERNAME</strong>,
<strong>CAPTN_SERVICE_PASSWORD</strong>, and <strong>CAPTN_SERVER_URL</strong>.</p>
<p>In addition to the regular authentication with credentials, you can also enable multi-factor authentication (MFA) and single sign-on (SSO)
for generating tokens.</p>
<p>To help protect your account, we recommend that you enable multi-factor authentication (MFA). MFA provides additional security by requiring
you to provide unique verification code (OTP) in addition to your regular sign-in credentials when performing critical operations.</p>
<p>Your account can be configured for MFA in just two easy steps:</p>
<ol>
<li>
<p>To begin, you need to enable MFA for your account by calling the <code>User.enable_mfa</code> method, which will generate a QR code. You can then
scan the QR code with an authenticator app, such as Google Authenticator and follow the on-device instructions to finish the setup in your smartphone.</p>
</li>
<li>
<p>Finally, activate MFA for your account by calling <code>User.activate_mfa</code> and passing the dynamically generated six-digit verification code from your
smartphone's authenticator app.</p>
</li>
</ol>
<p>After activating MFA for your account, you must pass the dynamically generated six-digit verification code, along with your username and password,
to the <code>get_token</code> method to generate new tokens.</p>
<p>Single sign-on (SSO) can be enabled for your account in three simple steps:</p>
<ol>
<li>
<p>Enable the SSO for a provider by calling the <code>User.enable_sso</code> method with the SSO provider name and an email address. At the moment,
we only support <strong>"google"</strong> and <strong>"github"</strong> as SSO providers. We intend to support additional SSO providers in future releases.</p>
</li>
<li>
<p>Before you can start generating new tokens with SSO, you must first authenticate with the SSO provider. Call the <code>get_token</code> with
the same SSO provider you have enabled in the step above to generate an SSO authorization URL. Please copy and paste it into your
preferred browser and complete the authentication process with the SSO provider.</p>
</li>
<li>
<p>After successfully authenticating with the SSO provider, call the <code>set_sso_token</code> method to generate a new token and use it automatically
in all future interactions with the captn server.</p>
</li>
</ol>
<p>Here's an example of how to use the Client class to authenticate and display the details of the currently logged-in user.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="c1"># MFA enabled users must pass the OTP along with the username and password</span>
<span class="c1"># to the get_token method.</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Print the logged-in user details</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>




  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h3 id="captn.client.Client.get_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">server</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sso_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#captn.client.Client.get_token" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Get application token for captn service from a username/password pair.</p>
<p>This methods validates the developer credentials and returns an auth token. The returned auth
token is implicitly used in all the interactions with the server.</p>
<p>If you've already enabled multi-factor authentication (MFA) for your account, you'll need to
pass the dynamically generated six-digit verification code along with your username and
password to generate new tokens.</p>
<p>If the token is requested using Single sign-on (SSO), an authorization URL will be returned.
Please copy and paste it into your preferred browser and complete the SSO provider
authentication within 10 minutes. Otherwise, the SSO login will time out and you will need
to re-request the token.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Username for the developer account. If None (default value), then the value from
<strong>CAPTN_SERVICE_USERNAME</strong> environment variable is used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Password for the developer account. If None (default value), then the value from
<strong>CAPTN_SERVICE_PASSWORD</strong> environment variable is used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>server</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The captn server uri. If None (default value), then the value from <strong>CAPTN_SERVER_URL</strong> environment variable
is used. If the variable is not set as well, then the default public server will be used. Please leave this
setting to default unless you are running the service in your own server (please email us to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#110;&#102;&#111;&#64;&#99;&#97;&#112;&#116;&#110;&#46;&#97;&#105;">&#105;&#110;&#102;&#111;&#64;&#99;&#97;&#112;&#116;&#110;&#46;&#97;&#105;</a>
for that possibility).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sso_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the Single sign-on (SSO) provider. Please pass this parameter only if you have successfully
enabled SSO for this provider. At present, the API only supports "google" and "github" as valid SSO providers.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app or the OTP you have received via SMS.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The authorization url if the token is requested using Single sign-on (SSO).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the username/password pair does not match.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If username/password is neither passed as parameters nor stored in environment variables.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of a non-MFA user authenticating and generating a new token</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Print the logged-in user details</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>
      <p>Here's an example of a MFA user authenticating using SMS OTP and generating a new token</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Request OTP via SMS to authenticate</span>
<span class="c1"># If you want to use the OTP from the authenticator app, skip this step and</span>
<span class="c1"># don&#39;t generate an SMS OTP; instead, pass the OTP from the authenticator</span>
<span class="c1"># app to the get_token method below</span>
<span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;get_token&quot;</span> <span class="c1"># Don&#39;t change the message_template_name</span>
<span class="p">)</span>

<span class="c1"># Authenticate using SMS OTP</span>
<span class="c1"># The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="c1"># phone number, which you must fill below</span>
<span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span>
<span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Print the logged-in user details</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">server</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sso_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get application token for airt service from a username/password pair.</span>

<span class="sd">    This methods validates the developer credentials and returns an auth token. The returned auth</span>
<span class="sd">    token is implicitly used in all the interactions with the server.</span>

<span class="sd">    If you&#39;ve already enabled multi-factor authentication (MFA) for your account, you&#39;ll need to</span>
<span class="sd">    pass the dynamically generated six-digit verification code along with your username and</span>
<span class="sd">    password to generate new tokens.</span>

<span class="sd">    If the token is requested using Single sign-on (SSO), an authorization URL will be returned.</span>
<span class="sd">    Please copy and paste it into your preferred browser and complete the SSO provider</span>
<span class="sd">    authentication within 10 minutes. Otherwise, the SSO login will time out and you will need</span>
<span class="sd">    to re-request the token.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: Username for the developer account. If None (default value), then the value from</span>
<span class="sd">            **AIRT_SERVICE_USERNAME** environment variable is used.</span>
<span class="sd">        password: Password for the developer account. If None (default value), then the value from</span>
<span class="sd">            **AIRT_SERVICE_PASSWORD** environment variable is used.</span>
<span class="sd">        server: The airt server uri. If None (default value), then the value from **AIRT_SERVER_URL** environment variable</span>
<span class="sd">            is used. If the variable is not set as well, then the default public server will be used. Please leave this</span>
<span class="sd">            setting to default unless you are running the service in your own server (please email us to info@airt.ai</span>
<span class="sd">            for that possibility).</span>
<span class="sd">        sso_provider: Name of the Single sign-on (SSO) provider. Please pass this parameter only if you have successfully</span>
<span class="sd">            enabled SSO for this provider. At present, the API only supports &quot;google&quot; and &quot;github&quot; as valid SSO providers.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app or the OTP you have received via SMS.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authorization url if the token is requested using Single sign-on (SSO).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the username/password pair does not match.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        KeyError: If username/password is neither passed as parameters nor stored in environment variables.</span>

<span class="sd">    Here&#39;s an example of a non-MFA user authenticating and generating a new token</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Print the logged-in user details</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of a MFA user authenticating using SMS OTP and generating a new token</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Request OTP via SMS to authenticate</span>
<span class="sd">        # If you want to use the OTP from the authenticator app, skip this step and</span>
<span class="sd">        # don&#39;t generate an SMS OTP; instead, pass the OTP from the authenticator</span>
<span class="sd">        # app to the get_token method below</span>
<span class="sd">        username=&quot;{fill in username}&quot;</span>
<span class="sd">        User.send_sms_otp(</span>
<span class="sd">            username=username,</span>
<span class="sd">            message_template_name=&quot;get_token&quot; # Don&#39;t change the message_template_name</span>
<span class="sd">        )</span>

<span class="sd">        # Authenticate using SMS OTP</span>
<span class="sd">        # The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="sd">        # phone number, which you must fill below</span>
<span class="sd">        password=&quot;{fill in password}&quot;</span>
<span class="sd">        otp=&quot;{fill in otp}&quot;</span>
<span class="sd">        Client.get_token(username=username, password=password, otp=otp)</span>

<span class="sd">        # Print the logged-in user details</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">get_base_url</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>

    <span class="n">username</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="n">_get_credentials</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">otp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span> <span class="s2">&quot;user_otp&quot;</span><span class="p">:</span> <span class="n">otp</span><span class="p">})</span>

    <span class="k">if</span> <span class="n">sso_provider</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">server</span><span class="si">}</span><span class="s2">/token&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">),</span>
            <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">server</span><span class="si">}</span><span class="s2">/sso/initiate&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="nb">dict</span><span class="p">(</span>
                    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">sso_authorization_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;authorization_url&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">sso_authorization_url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.Client.set_sso_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sso_token</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#captn.client.Client.set_sso_token" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Set the application token generated using Single sign-on (SSO).</p>
<p>The token set using this method will be implicitly used in all the interactions with the server.</p>
<p>Please call this method only if you successfully enabled and completed the login with the Single
sign-on (SSO) provider. If not, please call the <code>get_token</code> method with an appropriate
sso_provider to initiate the SSO authentication.</p>
<p>Here's an example of authenticating with Single sign-on (SSO) using google and setting the
newly generated token to interact with the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Enable single sign-on (SSO) and use google as the provider</span>
<span class="n">sso_provider</span><span class="o">=</span><span class="s2">&quot;google&quot;</span>
<span class="n">sso_email</span><span class="o">=</span><span class="s2">&quot;{fill in sso_email}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">sso_email</span><span class="o">=</span><span class="n">sso_email</span><span class="p">)</span>

<span class="c1"># Authenticate using Single sign-on (SSO)</span>
<span class="c1"># To generate a token using SSO, you must first authenticate with the provider.</span>
<span class="c1"># The command below will generate an authorization URL for you.</span>
<span class="c1"># Please copy and paste it into your preferred browser and complete the</span>
<span class="c1"># SSO provider authentication within 10 minutes. Otherwise, the SSO login</span>
<span class="c1"># will time out and you will need to call the get_token method again.</span>
<span class="n">sso_url</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sso_url</span><span class="p">)</span>

<span class="c1"># Once the provider authentication is successful, call the below method to</span>
<span class="c1"># set the generated token</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_sso_token</span><span class="p">()</span>

<span class="c1"># If set_sso_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">set_sso_token</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the application token generated using Single sign-on (SSO).</span>

<span class="sd">    The token set using this method will be implicitly used in all the interactions with the server.</span>

<span class="sd">    Please call this method only if you successfully enabled and completed the login with the Single</span>
<span class="sd">    sign-on (SSO) provider. If not, please call the `get_token` method with an appropriate</span>
<span class="sd">    sso_provider to initiate the SSO authentication.</span>

<span class="sd">    Here&#39;s an example of authenticating with Single sign-on (SSO) using google and setting the</span>
<span class="sd">    newly generated token to interact with the airt service.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Enable single sign-on (SSO) and use google as the provider</span>
<span class="sd">        sso_provider=&quot;google&quot;</span>
<span class="sd">        sso_email=&quot;{fill in sso_email}&quot;</span>
<span class="sd">        User.enable_sso(sso_provider=sso_provider, sso_email=sso_email)</span>

<span class="sd">        # Authenticate using Single sign-on (SSO)</span>
<span class="sd">        # To generate a token using SSO, you must first authenticate with the provider.</span>
<span class="sd">        # The command below will generate an authorization URL for you.</span>
<span class="sd">        # Please copy and paste it into your preferred browser and complete the</span>
<span class="sd">        # SSO provider authentication within 10 minutes. Otherwise, the SSO login</span>
<span class="sd">        # will time out and you will need to call the get_token method again.</span>
<span class="sd">        sso_url = Client.get_token(sso_provider=sso_provider)</span>
<span class="sd">        print(sso_url)</span>

<span class="sd">        # Once the provider authentication is successful, call the below method to</span>
<span class="sd">        # set the generated token</span>
<span class="sd">        Client.set_sso_token()</span>

<span class="sd">        # If set_sso_token fails, the line below will throw an error.</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">quoted_authorization_url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">sso_authorization_url</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">server</span><span class="si">}</span><span class="s2">/sso/token/?authorization_url=</span><span class="si">{</span><span class="n">quoted_authorization_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.Client.set_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">server</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#captn.client.Client.set_token" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Set application token for captn service.</p>
<p>If you already have a valid token, you can call this method to set it and use it in all
subsequent interactions with the captn server.</p>
<p>Please call this method only if you already have a token. If not, please call the <code>get_token</code> method to generate one.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The application token obtained by calling the <code>get_token</code> method, or an APIKey obtained by calling
the <code>APIKey.create</code> method. If None (default value), then the value from <strong>CAPTN_SERVICE_TOKEN</strong> environment variable is used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>server</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The captn server uri. If None (default value), then the value from <strong>CAPTN_SERVER_URL</strong> environment variable
is used. If the variable is not set as well, then the default public server will be used. Please leave this
setting to default unless you are running the service in your own server (please email us to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#110;&#102;&#111;&#64;&#99;&#97;&#112;&#116;&#110;&#46;&#97;&#105;">&#105;&#110;&#102;&#111;&#64;&#99;&#97;&#112;&#116;&#110;&#46;&#97;&#105;</a>
for that possibility).</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>      <p>An example to set an existing token:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Optional Step: For demonstration purpose, generate a new token</span>
<span class="c1"># When you generate a new token with the get_token method, you do not</span>
<span class="c1"># need to explicitly call set_token. It is shown here for demo purposes only.</span>
<span class="c1"># Skip this step if you already have a valid token and pass it directly to</span>
<span class="c1"># the set_token method below</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Setting a valid token</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">Client</span><span class="o">.</span><span class="n">auth_token</span><span class="p">)</span>

<span class="c1"># If set_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">set_token</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set application token for airt service.</span>

<span class="sd">    If you already have a valid token, you can call this method to set it and use it in all</span>
<span class="sd">    subsequent interactions with the airt server.</span>

<span class="sd">    Please call this method only if you already have a token. If not, please call the `get_token` method to generate one.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: The application token obtained by calling the `get_token` method, or an APIKey obtained by calling</span>
<span class="sd">            the `APIKey.create` method. If None (default value), then the value from **AIRT_SERVICE_TOKEN** environment variable is used.</span>
<span class="sd">        server: The airt server uri. If None (default value), then the value from **AIRT_SERVER_URL** environment variable</span>
<span class="sd">            is used. If the variable is not set as well, then the default public server will be used. Please leave this</span>
<span class="sd">            setting to default unless you are running the service in your own server (please email us to info@airt.ai</span>
<span class="sd">            for that possibility).</span>

<span class="sd">    An example to set an existing token:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Optional Step: For demonstration purpose, generate a new token</span>
<span class="sd">        # When you generate a new token with the get_token method, you do not</span>
<span class="sd">        # need to explicitly call set_token. It is shown here for demo purposes only.</span>
<span class="sd">        # Skip this step if you already have a valid token and pass it directly to</span>
<span class="sd">        # the set_token method below</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Setting a valid token</span>
<span class="sd">        Client.set_token(token=Client.auth_token)</span>

<span class="sd">        # If set_token fails, the line below will throw an error.</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">auth_token</span> <span class="o">=</span> <span class="n">token</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SERVICE_TOKEN</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">auth_token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The token is neither passed as parameter nor set in the environment variable </span><span class="si">{</span><span class="n">SERVICE_TOKEN</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">auth_token</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">get_base_url</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.Client.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.Client.version" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the client and server versions.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A dict containing the client and server versions.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example to get the client and server versions:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="c1"># Get the client and server versions</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Client</span><span class="o">.</span><span class="n">version</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the client and server versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the client and server versions.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example to get the client and server versions:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client</span>

<span class="sd">        # Get the client and server versions</span>
<span class="sd">        print(Client.version())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/version&quot;</span><span class="p">)</span>

    <span class="n">version</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1"># nosemgrep: python.lang.security.audit.non-literal-import.non-literal-import</span>
        <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">CLIENT_NAME</span><span class="p">)</span><span class="o">.</span><span class="n">__version__</span><span class="p">,</span>
        <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;airt_service&quot;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">version</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="captn.client.DataBlob" class="doc doc-heading">
        <code>
DataBlob        </code>



<a href="#captn.client.DataBlob" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for importing and processing data from sources such as CSV/parquet files, databases, AWS S3 buckets, and Azure Blob Storage.</p>
<p>Currently, the only way to instantiate the DataBlob class is to call one of the following static methods
<code>from_local</code>, <code>from_mysql</code>, <code>from_clickhouse</code>, <code>from_s3</code>, or <code>from_azure_blob_storage</code> which imports the data in
the parquet file format from:</p>
<ul>
<li>
<p>a local CSV/parquet file,</p>
</li>
<li>
<p>a MySql database,</p>
</li>
<li>
<p>a ClickHouse database</p>
</li>
<li>
<p>an AWS S3 bucket, and</p>
</li>
<li>
<p>an Azure Blob Storage respectively.</p>
</li>
</ul>
<p>We intend to support additional databases and storage mediums in future releases.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datasources</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">total_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">completed_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">folder_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pulled_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#captn.client.DataBlob.__init__" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Constructs a new DataBlob instance.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not construct this object directly by calling the constructor, please use <code>from_s3</code>, <code>from_azure_blob_storage</code>,
<code>from_mysql</code>, <code>from_clickhouse</code> or <code>from_local</code> methods instead.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>str</code></td>
        <td><p>Datablob uuid.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The URI of the data that was used to create the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of source used to generate the datablob. Depending on the source type, one of the following
values will be assigned: "s3", "local", "db", or "azure_blob_storage".</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. If None (default value) then the default region will be assigned based on the cloud provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>datasources</code></td>
        <td><code>Optional[List[str]]</code></td>
        <td><p>The uuids of the datasources created from the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>total_steps</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of steps required to upload the datablob to the server.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>completed_steps</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of steps completed during the datablob's upload to the server.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>folder_size</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The uploaded datablob's size in bytes.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>A flag that indicates the datablob's status. If the datablob is deleted, then <strong>False</strong> will be set.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pulled_on</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The most recent date the datablob was uploaded.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The uuid of the user who created the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[List]</code></td>
        <td><p>Tag names associated with the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>error</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Contains the error message if the processing of the datablob fails.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">datasources</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">total_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">completed_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">folder_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pulled_on</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a new DataBlob instance.</span>

<span class="sd">    Warning:</span>
<span class="sd">        Do not construct this object directly by calling the constructor, please use `from_s3`, `from_azure_blob_storage`,</span>
<span class="sd">        `from_mysql`, `from_clickhouse` or `from_local` methods instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: Datablob uuid.</span>
<span class="sd">        source: The URI of the data that was used to create the datablob.</span>
<span class="sd">        type: The type of source used to generate the datablob. Depending on the source type, one of the following</span>
<span class="sd">            values will be assigned: &quot;s3&quot;, &quot;local&quot;, &quot;db&quot;, or &quot;azure_blob_storage&quot;.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. If None (default value) then the default region will be assigned based on the cloud provider.</span>
<span class="sd">        cloud_provider: Cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">        datasources: The uuids of the datasources created from the datablob.</span>
<span class="sd">        total_steps: The number of steps required to upload the datablob to the server.</span>
<span class="sd">        completed_steps: The number of steps completed during the datablob&#39;s upload to the server.</span>
<span class="sd">        folder_size: The uploaded datablob&#39;s size in bytes.</span>
<span class="sd">        disabled: A flag that indicates the datablob&#39;s status. If the datablob is deleted, then **False** will be set.</span>
<span class="sd">        pulled_on: The most recent date the datablob was uploaded.</span>
<span class="sd">        user: The uuid of the user who created the datablob.</span>
<span class="sd">        tags: Tag names associated with the datablob.</span>
<span class="sd">        error: Contains the error message if the processing of the datablob fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cloud_provider</span> <span class="o">=</span> <span class="n">cloud_provider</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">datasources</span> <span class="o">=</span> <span class="n">datasources</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_steps</span> <span class="o">=</span> <span class="n">total_steps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">completed_steps</span> <span class="o">=</span> <span class="n">completed_steps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">folder_size</span> <span class="o">=</span> <span class="n">folder_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">disabled</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pulled_on</span> <span class="o">=</span> <span class="n">pulled_on</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.as_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_df</span><span class="p">(</span><span class="n">dbx</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.as_df" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the details of datablob instances as a pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dbx</code></td>
        <td><code>List[DataBlob]</code></td>
        <td><p>List of datablob instances.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>Details of all the datablobs in a dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">as_df</span><span class="p">(</span><span class="n">dbx</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;DataBlob&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the details of datablob instances as a pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        dbx: List of datablob instances.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Details of all the datablobs in a dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_lists</span> <span class="o">=</span> <span class="n">get_attributes_from_instances</span><span class="p">(</span><span class="n">dbx</span><span class="p">,</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">ALL_DB_COLS</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">db_lists</span><span class="p">:</span>
        <span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_tag_name_and_datasource_id</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>

    <span class="n">lists_df</span> <span class="o">=</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">db_lists</span><span class="p">,</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">BASIC_DB_COLS</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">lists_df</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.delete" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.delete" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Delete a datablob from the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the details of the deleted datablob.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataBlob</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a datablob from the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the details of the deleted datablob.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_tag_name_and_datasource_id</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">response</span><span class="p">])[</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">BASIC_DB_COLS</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.details" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return details of a datablob.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>The datablob details as a pandas dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>
<p>Columns in the resulting dataframe are: uuid, datasources, type, source, region, cloud_provider, tags, pulled_on, completed_steps, total_steps, folder_size, user, error, disabled.</p>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataBlob</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of a datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The datablob details as a pandas dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_tag_name_and_datasource_id</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>

    <span class="n">details_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">details</span><span class="p">])[</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ALL_DB_COLS</span><span class="p">]</span>

    <span class="n">details_df</span> <span class="o">=</span> <span class="n">details_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">details_df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.from_azure_blob_storage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_azure_blob_storage</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">credential</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.from_azure_blob_storage" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create and return a datablob that encapsulates the data from an Azure Blob Storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>Azure Blob Storage URI of the source file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>credential</code></td>
        <td><code>str</code></td>
        <td><p>Credential to access the Azure Blob Storage.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.
If <strong>None</strong> (default value), then <strong>azure</strong>  will be used as the cloud storage provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. If <strong>None</strong> (default value) then the default region will be assigned based on the cloud
provider. In the case of <strong>aws</strong>, <strong>eu-west-1</strong> will be used and in the case of <strong>azure</strong>, <strong>westeurope</strong> will be used. The supported AWS regions
are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,
us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,
brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,
japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,
switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string to tag the datablob. If not passed, then the tag <strong>latest</strong> will be assigned to the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataBlob</code></td>
      <td><p>An instance of the <code>DataBlob</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>To create a Datablob from Azure Blob Storage, you must have a valid Azure Blob Storage credential.</p>
<p>If you don't know how to get the Azure Blob Storage credential, you can follow the below python example. It's one of the ways to get the Azure Blob Storage credential.</p>
<ul>
<li>
<p>If you don't already have it, please install the Azure Storage Management (azure-mgmt-storage) and Azure Resource Management (azure-mgmt-resource) python client libraries using pip.</p>
</li>
<li>
<p>Ensure the following four environment variables are set into your current working environment with appropriate values.</p>
<ul>
<li>
<p>AZURE_TENANT_ID</p>
</li>
<li>
<p>AZURE_CLIENT_ID</p>
</li>
<li>
<p>AZURE_CLIENT_SECRET</p>
</li>
<li>
<p>AZURE_SUBSCRIPTION_ID</p>
</li>
</ul>
</li>
<li>
<p>Assign the resource group name in the GROUP_NAME variable and the storage account name in the STORAGE_ACCOUNT_NAME variable.</p>
</li>
<li>
<p>Below is a sample code to create a datablob and storing it in S3. Please copy it and replace the placeholders with appropriate values</p>
</li>
</ul>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">DefaultAzureCredential</span>
<span class="kn">from</span> <span class="nn">azure.mgmt.storage</span> <span class="kn">import</span> <span class="n">StorageManagementClient</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Create a credential for accessing Azure Blob Storage</span>
<span class="c1"># Setting the required environment variables</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_SUBSCRIPTION_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_subscription_id}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_CLIENT_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_client_id}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_CLIENT_SECRET&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_client_secret}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_TENANT_ID&quot;</span><span class="p">]</span><span class="o">=</span> <span class="s2">&quot;{fill in azure_tenant_id}&quot;</span>

<span class="c1"># Setting the resource group name and storage account name</span>
<span class="n">azure_group_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_group_name}&quot;</span>
<span class="n">azure_storage_account_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_storage_account_name}&quot;</span>

<span class="c1"># Retrieving the credential</span>
<span class="n">azure_storage_client</span> <span class="o">=</span> <span class="n">StorageManagementClient</span><span class="p">(</span>
    <span class="n">DefaultAzureCredential</span><span class="p">(),</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_SUBSCRIPTION_ID&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">azure_storage_keys</span> <span class="o">=</span> <span class="n">azure_storage_client</span><span class="o">.</span><span class="n">storage_accounts</span><span class="o">.</span><span class="n">list_keys</span><span class="p">(</span>
    <span class="n">azure_group_name</span><span class="p">,</span> <span class="n">azure_storage_account_name</span>
<span class="p">)</span>
<span class="n">azure_storage_keys</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">key_name</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">azure_storage_keys</span><span class="o">.</span><span class="n">keys</span><span class="p">}</span>
<span class="n">credential</span> <span class="o">=</span> <span class="n">azure_storage_keys</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">]</span>


<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="c1"># is set to eu-west-1 (default), feel free to change the cloud provider and</span>
<span class="c1"># the region to suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_azure_blob_storage</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">credential</span><span class="o">=</span><span class="n">credential</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_azure_blob_storage</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">credential</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataBlob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and return a datablob that encapsulates the data from an Azure Blob Storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        uri: Azure Blob Storage URI of the source file.</span>
<span class="sd">        credential: Credential to access the Azure Blob Storage.</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">            If **None** (default value), then **azure**  will be used as the cloud storage provider.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. If **None** (default value) then the default region will be assigned based on the cloud</span>
<span class="sd">            provider. In the case of **aws**, **eu-west-1** will be used and in the case of **azure**, **westeurope** will be used. The supported AWS regions</span>
<span class="sd">            are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,</span>
<span class="sd">            us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,</span>
<span class="sd">            brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,</span>
<span class="sd">            japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,</span>
<span class="sd">            switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>
<span class="sd">        tag: A string to tag the datablob. If not passed, then the tag **latest** will be assigned to the datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An instance of the `DataBlob` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    To create a Datablob from Azure Blob Storage, you must have a valid Azure Blob Storage credential.</span>

<span class="sd">    If you don&#39;t know how to get the Azure Blob Storage credential, you can follow the below python example. It&#39;s one of the ways to get the Azure Blob Storage credential.</span>

<span class="sd">    - If you don&#39;t already have it, please install the Azure Storage Management (azure-mgmt-storage) and Azure Resource Management (azure-mgmt-resource) python client libraries using pip.</span>

<span class="sd">    - Ensure the following four environment variables are set into your current working environment with appropriate values.</span>

<span class="sd">        - AZURE_TENANT_ID</span>

<span class="sd">        - AZURE_CLIENT_ID</span>

<span class="sd">        - AZURE_CLIENT_SECRET</span>

<span class="sd">        - AZURE_SUBSCRIPTION_ID</span>

<span class="sd">    - Assign the resource group name in the GROUP_NAME variable and the storage account name in the STORAGE_ACCOUNT_NAME variable.</span>

<span class="sd">    - Below is a sample code to create a datablob and storing it in S3. Please copy it and replace the placeholders with appropriate values</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        import os</span>

<span class="sd">        from azure.identity import DefaultAzureCredential</span>
<span class="sd">        from azure.mgmt.storage import StorageManagementClient</span>

<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Create a credential for accessing Azure Blob Storage</span>
<span class="sd">        # Setting the required environment variables</span>
<span class="sd">        os.environ[&quot;AZURE_SUBSCRIPTION_ID&quot;] = &quot;{fill in azure_subscription_id}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_CLIENT_ID&quot;] = &quot;{fill in azure_client_id}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_CLIENT_SECRET&quot;] = &quot;{fill in azure_client_secret}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_TENANT_ID&quot;]= &quot;{fill in azure_tenant_id}&quot;</span>

<span class="sd">        # Setting the resource group name and storage account name</span>
<span class="sd">        azure_group_name = &quot;{fill in azure_group_name}&quot;</span>
<span class="sd">        azure_storage_account_name = &quot;{fill in azure_storage_account_name}&quot;</span>

<span class="sd">        # Retrieving the credential</span>
<span class="sd">        azure_storage_client = StorageManagementClient(</span>
<span class="sd">            DefaultAzureCredential(), os.environ[&quot;AZURE_SUBSCRIPTION_ID&quot;]</span>
<span class="sd">        )</span>
<span class="sd">        azure_storage_keys = azure_storage_client.storage_accounts.list_keys(</span>
<span class="sd">            azure_group_name, azure_storage_account_name</span>
<span class="sd">        )</span>
<span class="sd">        azure_storage_keys = {v.key_name: v.value for v in azure_storage_keys.keys}</span>
<span class="sd">        credential = azure_storage_keys[&#39;key1&#39;]</span>


<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="sd">        # is set to eu-west-1 (default), feel free to change the cloud provider and</span>
<span class="sd">        # the region to suit your needs.</span>
<span class="sd">        db = DataBlob.from_azure_blob_storage(</span>
<span class="sd">            uri=&quot;{fill in uri}&quot;,</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            credential=credential</span>
<span class="sd">        )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_cloud_provider_and_region</span><span class="p">(</span><span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">default_cloud_provider</span><span class="o">=</span><span class="s2">&quot;azure&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/datablob/from_azure_blob_storage&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">credential</span><span class="o">=</span><span class="n">credential</span><span class="p">,</span>
            <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
            <span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DataBlob</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.from_clickhouse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_clickhouse</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">database</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">protocol</span><span class="p">,</span> <span class="n">index_column</span><span class="p">,</span> <span class="n">timestamp_column</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.from_clickhouse" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create and return a datablob that encapsulates the data from a ClickHouse database.</p>
<p>If the database requires authentication, pass the username/password as parameters or store it in
the <strong>CLICKHOUSE_USERNAME</strong> and <strong>CLICKHOUSE_PASSWORD</strong> environment variables.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>host</code></td>
        <td><code>str</code></td>
        <td><p>Remote database host name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>database</code></td>
        <td><code>str</code></td>
        <td><p>Database name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>table</code></td>
        <td><code>str</code></td>
        <td><p>Table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>protocol</code></td>
        <td><code>str</code></td>
        <td><p>Protocol to use. The valid values are "native" and "http".</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>index_column</code></td>
        <td><code>str</code></td>
        <td><p>The column to use as index (row labels).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timestamp_column</code></td>
        <td><code>str</code></td>
        <td><p>Timestamp column name in the tabel.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>Host port number. If not passed, then the default value <strong>0</strong> will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.
If <strong>None</strong> (default value), then <strong>aws</strong>  will be used as the cloud storage provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. If <strong>None</strong> (default value) then the default region will be assigned based on the cloud
provider. In the case of <strong>aws</strong>, <strong>eu-west-1</strong> will be used and in the case of <strong>azure</strong>, <strong>westeurope</strong> will be used. The supported AWS regions
are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,
us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,
brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,
japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,
switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Database username. If not passed, the default value "root" will be used unless the value is explicitly set in the environment variable
<strong>CLICKHOUSE_USERNAME</strong>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Database password. If not passed, the default value "root" will be used unless the value is explicitly set in the environment variable
<strong>CLICKHOUSE_PASSWORD</strong>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>filters</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Additional parameters to be used when importing data. For example, if you want to filter and extract data only for a specific user_id, pass {"user_id": 1}.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string to tag the datablob. If not passed, then the tag <strong>latest</strong> will be assigned to the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataBlob</code></td>
      <td><p>An instance of the <code>DataBlob</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of how to create a Datablob from a ClickHouse database:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="c1"># is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="c1"># to suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_clickhouse</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in database_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in database_password}&quot;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;{fill in host}&quot;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s2">&quot;{fill in database}&quot;</span><span class="p">,</span>
    <span class="n">table</span><span class="o">=</span><span class="s2">&quot;{fill in table}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">timestamp_column</span><span class="o">=</span><span class="s2">&quot;{fill in timestamp_column}&quot;</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;{fill in port}&quot;</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="n">fill</span> <span class="ow">in</span> <span class="n">filters</span><span class="p">},</span>
    <span class="n">protocol</span><span class="o">=</span><span class="s2">&quot;native&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">from_clickhouse</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">database</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">protocol</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">index_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">timestamp_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">filters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataBlob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and return a datablob that encapsulates the data from a ClickHouse database.</span>

<span class="sd">    If the database requires authentication, pass the username/password as parameters or store it in</span>
<span class="sd">    the **CLICKHOUSE_USERNAME** and **CLICKHOUSE_PASSWORD** environment variables.</span>

<span class="sd">    Args:</span>
<span class="sd">        host: Remote database host name.</span>
<span class="sd">        database: Database name.</span>
<span class="sd">        table: Table name.</span>
<span class="sd">        protocol: Protocol to use. The valid values are &quot;native&quot; and &quot;http&quot;.</span>
<span class="sd">        index_column: The column to use as index (row labels).</span>
<span class="sd">        timestamp_column: Timestamp column name in the tabel.</span>
<span class="sd">        port: Host port number. If not passed, then the default value **0** will be used.</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">            If **None** (default value), then **aws**  will be used as the cloud storage provider.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. If **None** (default value) then the default region will be assigned based on the cloud</span>
<span class="sd">            provider. In the case of **aws**, **eu-west-1** will be used and in the case of **azure**, **westeurope** will be used. The supported AWS regions</span>
<span class="sd">            are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,</span>
<span class="sd">            us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,</span>
<span class="sd">            brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,</span>
<span class="sd">            japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,</span>
<span class="sd">            switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>
<span class="sd">        username: Database username. If not passed, the default value &quot;root&quot; will be used unless the value is explicitly set in the environment variable</span>
<span class="sd">            **CLICKHOUSE_USERNAME**.</span>
<span class="sd">        password: Database password. If not passed, the default value &quot;root&quot; will be used unless the value is explicitly set in the environment variable</span>
<span class="sd">            **CLICKHOUSE_PASSWORD**.</span>
<span class="sd">        filters: Additional parameters to be used when importing data. For example, if you want to filter and extract data only for a specific user_id, pass {&quot;user_id&quot;: 1}.</span>
<span class="sd">        tag: A string to tag the datablob. If not passed, then the tag **latest** will be assigned to the datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">       An instance of the `DataBlob` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of how to create a Datablob from a ClickHouse database:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="sd">        # is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="sd">        # to suit your needs.</span>
<span class="sd">        db = DataBlob.from_clickhouse(</span>
<span class="sd">            username=&quot;{fill in database_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in database_password}&quot;,</span>
<span class="sd">            host=&quot;{fill in host}&quot;,</span>
<span class="sd">            database=&quot;{fill in database}&quot;,</span>
<span class="sd">            table=&quot;{fill in table}&quot;,</span>
<span class="sd">            index_column=&quot;{fill in index_column}&quot;,</span>
<span class="sd">            timestamp_column=&quot;{fill in timestamp_column}&quot;,</span>
<span class="sd">            port=&quot;{fill in port}&quot;,</span>
<span class="sd">            filters={fill in filters},</span>
<span class="sd">            protocol=&quot;native&quot;,</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            region=&quot;eu-west-3&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">username</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">username</span>
        <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CLICKHOUSE_USERNAME&quot;</span><span class="p">,</span> <span class="s2">&quot;root&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">password</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">password</span>
        <span class="k">if</span> <span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CLICKHOUSE_PASSWORD&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_cloud_provider_and_region</span><span class="p">(</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">json_req</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">host</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
        <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span>
        <span class="n">protocol</span><span class="o">=</span><span class="n">protocol</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="n">index_column</span><span class="o">=</span><span class="n">index_column</span><span class="p">,</span>
        <span class="n">timestamp_column</span><span class="o">=</span><span class="n">timestamp_column</span><span class="p">,</span>
        <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
        <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
        <span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/from_clickhouse&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_req</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DataBlob</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.from_local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_local</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.from_local" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create and return a datablob from local file.</p>
<p>The API currently allows users to create datablobs from CSV or Parquet files. We intend to support additional file formats in future releases.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[str, pathlib.Path]</code></td>
        <td><p>The relative or absolute path to a local file or to a directory containing the source files.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.
If <strong>None</strong> (default value), then <strong>aws</strong>  will be used as the cloud storage provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. If <strong>None</strong> (default value) then the default region will be assigned based on the cloud
provider. In the case of <strong>aws</strong>, <strong>eu-west-1</strong> will be used and in the case of <strong>azure</strong>, <strong>westeurope</strong> will be used. The supported AWS regions
are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,
us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,
brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,
japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,
switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string to tag the datablob. If not passed, then the tag <strong>latest</strong> will be assigned to the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>show_progress</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to set the progressbar visibility. If not passed, then the default value <strong>True</strong> will be used.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataBlob</code></td>
      <td><p>An instance of the <code>DataBlob</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of how to create a Datablob from a local file:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="c1"># is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="c1"># to suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_local</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;{fill in path}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">from_local</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataBlob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and return a datablob from local file.</span>

<span class="sd">    The API currently allows users to create datablobs from CSV or Parquet files. We intend to support additional file formats in future releases.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The relative or absolute path to a local file or to a directory containing the source files.</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">            If **None** (default value), then **aws**  will be used as the cloud storage provider.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. If **None** (default value) then the default region will be assigned based on the cloud</span>
<span class="sd">            provider. In the case of **aws**, **eu-west-1** will be used and in the case of **azure**, **westeurope** will be used. The supported AWS regions</span>
<span class="sd">            are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,</span>
<span class="sd">            us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,</span>
<span class="sd">            brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,</span>
<span class="sd">            japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,</span>
<span class="sd">            switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>
<span class="sd">        tag: A string to tag the datablob. If not passed, then the tag **latest** will be assigned to the datablob.</span>
<span class="sd">        show_progress: Flag to set the progressbar visibility. If not passed, then the default value **True** will be used.</span>

<span class="sd">    Returns:</span>
<span class="sd">       An instance of the `DataBlob` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of how to create a Datablob from a local file:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="sd">        # is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="sd">        # to suit your needs.</span>
<span class="sd">        db = DataBlob.from_local(</span>
<span class="sd">            path=&quot;{fill in path}&quot;,</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            region=&quot;eu-west-3&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_cloud_provider_and_region</span><span class="p">(</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="c1"># Step 1: get presigned URL</span>
    <span class="n">_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;local:</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/from_local/start&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="n">_path</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="n">tag</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Step 2: download the csv to the s3 bucket</span>
    <span class="n">files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="k">else</span> <span class="p">[</span><span class="n">path</span><span class="p">]</span>

    <span class="c1"># Initiate progress bar</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">file_to_upload</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">DataBlob</span><span class="o">.</span><span class="n">_upload_to_s3_with_retry</span><span class="p">(</span>
            <span class="n">file_to_upload</span><span class="o">=</span><span class="n">file_to_upload</span><span class="p">,</span>
            <span class="n">presigned_url</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;presigned&quot;</span><span class="p">][</span><span class="s2">&quot;url&quot;</span><span class="p">],</span>
            <span class="n">presigned_fields</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;presigned&quot;</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

    <span class="n">t</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">DataBlob</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.from_mysql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_mysql</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">database</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.from_mysql" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create and return a datablob that encapsulates the data from a mysql database.</p>
<p>If the database requires authentication, pass the username/password as parameters or store it in
the <strong>CAPTN_CLIENT_DB_USERNAME</strong> and <strong>CAPTN_CLIENT_DB_PASSWORD</strong> environment variables.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>host</code></td>
        <td><code>str</code></td>
        <td><p>Remote database host name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>database</code></td>
        <td><code>str</code></td>
        <td><p>Database name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>table</code></td>
        <td><code>str</code></td>
        <td><p>Table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>Host port number. If not passed, then the default value <strong>3306</strong> will be used.</p></td>
        <td><code>3306</code></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.
If <strong>None</strong> (default value), then <strong>aws</strong>  will be used as the cloud storage provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. If <strong>None</strong> (default value) then the default region will be assigned based on the cloud
provider. In the case of <strong>aws</strong>, <strong>eu-west-1</strong> will be used and in the case of <strong>azure</strong>, <strong>westeurope</strong> will be used. The supported AWS regions
are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,
us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,
brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,
japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,
switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Database username. If not passed, the default value <strong>"root"</strong> will be used unless the value is explicitly set in the environment variable
<strong>CAPTN_CLIENT_DB_USERNAME</strong>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Database password. If not passed, the default value <strong>""</strong> will be used unless the value is explicitly set in the environment variable
<strong>CAPTN_CLIENT_DB_PASSWORD</strong>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string to tag the datablob. If not passed, then the tag <strong>latest</strong> will be assigned to the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataBlob</code></td>
      <td><p>An instance of the <code>DataBlob</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of how to create a Datablob from a MySQL database:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="c1"># is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="c1"># to suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_mysql</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in database_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in database_password}&quot;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;{fill in host}&quot;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s2">&quot;{fill in database}&quot;</span><span class="p">,</span>
    <span class="n">table</span><span class="o">=</span><span class="s2">&quot;{fill in table}&quot;</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;{fill in port}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">from_mysql</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">database</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3306</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataBlob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and return a datablob that encapsulates the data from a mysql database.</span>

<span class="sd">    If the database requires authentication, pass the username/password as parameters or store it in</span>
<span class="sd">    the **AIRT_CLIENT_DB_USERNAME** and **AIRT_CLIENT_DB_PASSWORD** environment variables.</span>

<span class="sd">    Args:</span>
<span class="sd">        host: Remote database host name.</span>
<span class="sd">        database: Database name.</span>
<span class="sd">        table: Table name.</span>
<span class="sd">        port: Host port number. If not passed, then the default value **3306** will be used.</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">            If **None** (default value), then **aws**  will be used as the cloud storage provider.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. If **None** (default value) then the default region will be assigned based on the cloud</span>
<span class="sd">            provider. In the case of **aws**, **eu-west-1** will be used and in the case of **azure**, **westeurope** will be used. The supported AWS regions</span>
<span class="sd">            are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,</span>
<span class="sd">            us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,</span>
<span class="sd">            brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,</span>
<span class="sd">            japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,</span>
<span class="sd">            switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>
<span class="sd">        username: Database username. If not passed, the default value **&quot;root&quot;** will be used unless the value is explicitly set in the environment variable</span>
<span class="sd">            **AIRT_CLIENT_DB_USERNAME**.</span>
<span class="sd">        password: Database password. If not passed, the default value **&quot;&quot;** will be used unless the value is explicitly set in the environment variable</span>
<span class="sd">            **AIRT_CLIENT_DB_PASSWORD**.</span>
<span class="sd">        tag: A string to tag the datablob. If not passed, then the tag **latest** will be assigned to the datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">       An instance of the `DataBlob` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of how to create a Datablob from a MySQL database:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the datablob will be stored in an AWS S3 bucket. The region</span>
<span class="sd">        # is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="sd">        # to suit your needs.</span>
<span class="sd">        db = DataBlob.from_mysql(</span>
<span class="sd">            username=&quot;{fill in database_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in database_password}&quot;,</span>
<span class="sd">            host=&quot;{fill in host}&quot;,</span>
<span class="sd">            database=&quot;{fill in database}&quot;,</span>
<span class="sd">            table=&quot;{fill in table}&quot;,</span>
<span class="sd">            port=&quot;{fill in port}&quot;,</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            region=&quot;eu-west-3&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">username</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">username</span>
        <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CLIENT_DB_USERNAME</span><span class="p">,</span> <span class="s2">&quot;root&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">password</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">password</span> <span class="k">if</span> <span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CLIENT_DB_PASSWORD</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_cloud_provider_and_region</span><span class="p">(</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">json_req</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">host</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
        <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span>
        <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
        <span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/from_mysql&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_req</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DataBlob</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.from_s3" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_s3</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">access_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secret_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.from_s3" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create and return a datablob that encapsulates the data from an AWS S3 bucket.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>AWS S3 bucket uri.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>access_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Access key for the S3 bucket. If <strong>None</strong> (default value), then the value
from <strong>AWS_ACCESS_KEY_ID</strong> environment variable will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>secret_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Secret key for the S3 bucket. If <strong>None</strong> (default value), then the value
from <strong>AWS_SECRET_ACCESS_KEY</strong> environment variable will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.
If <strong>None</strong> (default value), then <strong>aws</strong>  will be used as the cloud storage provider.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The region of the destination cloud provider where the datablob will be stored. If <strong>None</strong> (default value) then the default region will be assigned based on
the cloud provider. In the case of <strong>aws</strong>, the datablob's source bucket region will be used, whereas <strong>azure</strong> will use <strong>westeurope</strong>. The supported AWS regions
are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,
us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,
brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,
japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,
switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string to tag the datablob. If not passed, then the tag <strong>latest</strong> will be assigned to the datablob.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataBlob</code></td>
      <td><p>An instance of the <code>DataBlob</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of how to create a Datablob from an AWS S3 bucket:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the access_key and the secret_key are set in the</span>
<span class="c1"># AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables. The region</span>
<span class="c1"># is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="c1"># to suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">from_s3</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">secret_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataBlob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and return a datablob that encapsulates the data from an AWS S3 bucket.</span>

<span class="sd">    Args:</span>
<span class="sd">        uri: AWS S3 bucket uri.</span>
<span class="sd">        access_key: Access key for the S3 bucket. If **None** (default value), then the value</span>
<span class="sd">            from **AWS_ACCESS_KEY_ID** environment variable will be used.</span>
<span class="sd">        secret_key: Secret key for the S3 bucket. If **None** (default value), then the value</span>
<span class="sd">            from **AWS_SECRET_ACCESS_KEY** environment variable will be used.</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">            If **None** (default value), then **aws**  will be used as the cloud storage provider.</span>
<span class="sd">        region: The region of the destination cloud provider where the datablob will be stored. If **None** (default value) then the default region will be assigned based on</span>
<span class="sd">            the cloud provider. In the case of **aws**, the datablob&#39;s source bucket region will be used, whereas **azure** will use **westeurope**. The supported AWS regions</span>
<span class="sd">            are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1, ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1,</span>
<span class="sd">            us-east-1, us-east-2, us-west-1, us-west-2. The supported Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast,</span>
<span class="sd">            brazilsouth, canadacentral, canadaeast, centralindia, centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast,</span>
<span class="sd">            japanwest, koreacentral, koreasouth, northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia,</span>
<span class="sd">            switzerlandnorth, switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>
<span class="sd">        tag: A string to tag the datablob. If not passed, then the tag **latest** will be assigned to the datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An instance of the `DataBlob` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of how to create a Datablob from an AWS S3 bucket:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the access_key and the secret_key are set in the</span>
<span class="sd">        # AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables. The region</span>
<span class="sd">        # is set to eu-west-3, feel free to change the cloud provider and the region</span>
<span class="sd">        # to suit your needs.</span>
<span class="sd">        db = DataBlob.from_s3(</span>
<span class="sd">            uri=&quot;{fill in uri}&quot;,</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            region=&quot;eu-west-3&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">access_key</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">access_key</span> <span class="k">if</span> <span class="n">access_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AWS_ACCESS_KEY_ID&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">secret_key</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">secret_key</span>
        <span class="k">if</span> <span class="n">secret_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_cloud_provider_and_region</span><span class="p">(</span><span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">set_source_region</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/datablob/from_s3&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">access_key</span><span class="o">=</span><span class="n">access_key</span><span class="p">,</span>
            <span class="n">secret_key</span><span class="o">=</span><span class="n">secret_key</span><span class="p">,</span>
            <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
            <span class="n">cloud_provider</span><span class="o">=</span><span class="n">cloud_provider</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DataBlob</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.is_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.is_ready" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Check if the method's progress is complete.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This method will return <code>True</code> immediately and will not wait for the progress to finish
if the datablob is created using the <code>from_local</code> method.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><strong>True</strong> if the upload progress is completed, else <strong>False</strong>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the method&#39;s progress is complete.</span>

<span class="sd">    !!! info</span>

<span class="sd">        This method will return `True` immediately and will not wait for the progress to finish</span>
<span class="sd">        if the datablob is created using the `from_local` method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        **True** if the upload progress is completed, else **False**.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;local&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">progress_status</span><span class="o">.</span><span class="n">is_ready</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">completed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataBlob.ls" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of DataBlob instances</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>offset</code></td>
        <td><code>int</code></td>
        <td><p>The number of datablobs to offset at the beginning. If <strong>None</strong>,
then the default value <strong>0</strong> will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of datablobs to return from the server. If <strong>None</strong>,
then the default value <strong>100</strong> will be used.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then only the deleted datablobs will be returned.
Else, the default value <strong>False</strong> will be used to return only the list
of active datablobs.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>completed</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then only the datablobs that are successfully downloaded
to the server will be returned. Else, the default value <strong>False</strong> will be used to
return all the datablobs.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[DataBlob]</code></td>
      <td><p>A list of DataBlob instances available in the server.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">ls</span><span class="p">(</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;DataBlob&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the list of DataBlob instances</span>

<span class="sd">    Args:</span>
<span class="sd">        offset: The number of datablobs to offset at the beginning. If **None**,</span>
<span class="sd">            then the default value **0** will be used.</span>
<span class="sd">        limit: The maximum number of datablobs to return from the server. If **None**,</span>
<span class="sd">            then the default value **100** will be used.</span>
<span class="sd">        disabled: If set to **True**, then only the deleted datablobs will be returned.</span>
<span class="sd">            Else, the default value **False** will be used to return only the list</span>
<span class="sd">            of active datablobs.</span>
<span class="sd">        completed: If set to **True**, then only the datablobs that are successfully downloaded</span>
<span class="sd">            to the server will be returned. Else, the default value **False** will be used to</span>
<span class="sd">            return all the datablobs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of DataBlob instances available in the server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/?disabled=</span><span class="si">{</span><span class="n">disabled</span><span class="si">}</span><span class="s2">&amp;completed=</span><span class="si">{</span><span class="n">completed</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">dbx</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">DataBlob</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
            <span class="n">source</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span>
            <span class="n">region</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
            <span class="n">cloud_provider</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;cloud_provider&quot;</span><span class="p">],</span>
            <span class="n">datasources</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;datasources&quot;</span><span class="p">],</span>
            <span class="n">total_steps</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;total_steps&quot;</span><span class="p">],</span>
            <span class="n">completed_steps</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;completed_steps&quot;</span><span class="p">],</span>
            <span class="n">folder_size</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;folder_size&quot;</span><span class="p">],</span>
            <span class="n">disabled</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
            <span class="n">pulled_on</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;pulled_on&quot;</span><span class="p">],</span>
            <span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">],</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span>
            <span class="n">error</span><span class="o">=</span><span class="n">db</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">db</span> <span class="ow">in</span> <span class="n">lists</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">dbx</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.progress_bar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.progress_bar" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Blocks the execution and displays a progress bar showing the remote action progress.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This method will not check the progress if the datablob is created using the
<code>from_local</code> method.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sleep_for</code></td>
        <td><code>Union[int, float]</code></td>
        <td><p>The time interval in seconds between successive API calls.</p></td>
        <td><code>5</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time allowed in seconds for the asynchronous call to complete. If not the
progressbar will be terminated.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>TimeoutError</code></td>
        <td><p>in case of connection timeout.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Blocks the execution and displays a progress bar showing the remote action progress.</span>

<span class="sd">    !!! info</span>

<span class="sd">        This method will not check the progress if the datablob is created using the</span>
<span class="sd">        `from_local` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        sleep_for: The time interval in seconds between successive API calls.</span>
<span class="sd">        timeout: The maximum time allowed in seconds for the asynchronous call to complete. If not the</span>
<span class="sd">            progressbar will be terminated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        TimeoutError: in case of connection timeout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;local&quot;</span><span class="p">]:</span>
        <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">sleep_for</span><span class="o">=</span><span class="n">sleep_for</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">progress_status</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.set_default_cloud_provider" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_default_cloud_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.set_default_cloud_provider" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the default destination value for the cloud_provider and the region.</p>
<p>Whenever you call the from_* methods of the <code>DataBlob</code> class inside this context manager, the destination cloud_provider and region set in this context
will be passed to the from_* methods, unless you explicitely override it in the parameter.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>str</code></td>
        <td><p>The destination cloud storage provider's name to store the datablob. Currently, the API only supports <strong>aws</strong> and <strong>azure</strong> as cloud storage providers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The destination cloud provider's region to store the datablob. The supported AWS regions are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1,
ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1, us-east-1, us-east-2, us-west-1, us-west-2. The supported
Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast, brazilsouth, canadacentral, canadaeast, centralindia,
centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast, japanwest, koreacentral, koreasouth,
northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia, switzerlandnorth,
switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[NoneType]</code></td>
      <td><p>A context manager that specifies the cloud provider and region to use.</p></td>
    </tr>
  </tbody>
</table>      <p>Here's an example of creating a datablob from Azure Blob Storage and storing it in AWS S3:</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">DefaultAzureCredential</span>
<span class="kn">from</span> <span class="nn">azure.mgmt.storage</span> <span class="kn">import</span> <span class="n">StorageManagementClient</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Create a credential for accessing Azure Blob Storage</span>
<span class="c1"># Setting the required environment variables</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_SUBSCRIPTION_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_subscription_id}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_CLIENT_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_client_id}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_CLIENT_SECRET&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_client_secret}&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_TENANT_ID&quot;</span><span class="p">]</span><span class="o">=</span> <span class="s2">&quot;{fill in azure_tenant_id}&quot;</span>

<span class="c1"># Setting the resource group name and storage account name</span>
<span class="n">azure_group_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_group_name}&quot;</span>
<span class="n">azure_storage_account_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in azure_storage_account_name}&quot;</span>

<span class="c1"># Retrieving the credential</span>
<span class="n">azure_storage_client</span> <span class="o">=</span> <span class="n">StorageManagementClient</span><span class="p">(</span>
    <span class="n">DefaultAzureCredential</span><span class="p">(),</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AZURE_SUBSCRIPTION_ID&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">azure_storage_keys</span> <span class="o">=</span> <span class="n">azure_storage_client</span><span class="o">.</span><span class="n">storage_accounts</span><span class="o">.</span><span class="n">list_keys</span><span class="p">(</span>
    <span class="n">azure_group_name</span><span class="p">,</span> <span class="n">azure_storage_account_name</span>
<span class="p">)</span>
<span class="n">azure_storage_keys</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">key_name</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">azure_storage_keys</span><span class="o">.</span><span class="n">keys</span><span class="p">}</span>
<span class="n">credential</span> <span class="o">=</span> <span class="n">azure_storage_keys</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">]</span>


<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablobs created inside the context manager will be</span>
<span class="c1"># stored in an AWS S3 bucket with the region set to eu-west-3.</span>
<span class="k">with</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">set_default_cloud_provider</span><span class="p">(</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">):</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_azure_blob_storage</span><span class="p">(</span>
        <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
        <span class="n">credential</span><span class="o">=</span><span class="n">credential</span>
    <span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="c1"># If the upload is successful, the ready flag should be set to True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span><span class="p">(</span><span class="n">cls_method</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">set_default_cloud_provider</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the default destination value for the cloud_provider and the region.</span>

<span class="sd">    Whenever you call the from_\* methods of the `DataBlob` class inside this context manager, the destination cloud_provider and region set in this context</span>
<span class="sd">    will be passed to the from_\* methods, unless you explicitely override it in the parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        cloud_provider: The destination cloud storage provider&#39;s name to store the datablob. Currently, the API only supports **aws** and **azure** as cloud storage providers.</span>
<span class="sd">        region: The destination cloud provider&#39;s region to store the datablob. The supported AWS regions are: ap-northeast-1, ap-northeast-2, ap-south-1, ap-southeast-1,</span>
<span class="sd">            ap-southeast-2, ca-central-1, eu-central-1, eu-north-1, eu-west-1, eu-west-2, eu-west-3, sa-east-1, us-east-1, us-east-2, us-west-1, us-west-2. The supported</span>
<span class="sd">            Azure Blob Storage regions are: australiacentral, australiacentral2, australiaeast, australiasoutheast, brazilsouth, canadacentral, canadaeast, centralindia,</span>
<span class="sd">            centralus, eastasia, eastus, eastus2, francecentral, francesouth, germanynorth, germanywestcentral, japaneast, japanwest, koreacentral, koreasouth,</span>
<span class="sd">            northcentralus, northeurope, norwayeast, norwaywest, southafricanorth, southafricawest, southcentralus, southeastasia, southindia, switzerlandnorth,</span>
<span class="sd">            switzerlandwest, uaecentral, uaenorth, uksouth, ukwest, westcentralus, westeurope, westindia, westus, westus2.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A context manager that specifies the cloud provider and region to use.</span>

<span class="sd">    Here&#39;s an example of creating a datablob from Azure Blob Storage and storing it in AWS S3:</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        import os</span>

<span class="sd">        from azure.identity import DefaultAzureCredential</span>
<span class="sd">        from azure.mgmt.storage import StorageManagementClient</span>

<span class="sd">        from  airt.client import Client, DataBlob</span>

<span class="sd">        # Create a credential for accessing Azure Blob Storage</span>
<span class="sd">        # Setting the required environment variables</span>
<span class="sd">        os.environ[&quot;AZURE_SUBSCRIPTION_ID&quot;] = &quot;{fill in azure_subscription_id}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_CLIENT_ID&quot;] = &quot;{fill in azure_client_id}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_CLIENT_SECRET&quot;] = &quot;{fill in azure_client_secret}&quot;</span>
<span class="sd">        os.environ[&quot;AZURE_TENANT_ID&quot;]= &quot;{fill in azure_tenant_id}&quot;</span>

<span class="sd">        # Setting the resource group name and storage account name</span>
<span class="sd">        azure_group_name = &quot;{fill in azure_group_name}&quot;</span>
<span class="sd">        azure_storage_account_name = &quot;{fill in azure_storage_account_name}&quot;</span>

<span class="sd">        # Retrieving the credential</span>
<span class="sd">        azure_storage_client = StorageManagementClient(</span>
<span class="sd">            DefaultAzureCredential(), os.environ[&quot;AZURE_SUBSCRIPTION_ID&quot;]</span>
<span class="sd">        )</span>
<span class="sd">        azure_storage_keys = azure_storage_client.storage_accounts.list_keys(</span>
<span class="sd">            azure_group_name, azure_storage_account_name</span>
<span class="sd">        )</span>
<span class="sd">        azure_storage_keys = {v.key_name: v.value for v in azure_storage_keys.keys}</span>
<span class="sd">        credential = azure_storage_keys[&#39;key1&#39;]</span>


<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a datablob</span>
<span class="sd">        # In this example, the datablobs created inside the context manager will be</span>
<span class="sd">        # stored in an AWS S3 bucket with the region set to eu-west-3.</span>
<span class="sd">        with DataBlob.set_default_cloud_provider(</span>
<span class="sd">            cloud_provider=&quot;aws&quot;,</span>
<span class="sd">            region=&quot;eu-west-3&quot;</span>
<span class="sd">        ):</span>
<span class="sd">            db = DataBlob.from_azure_blob_storage(</span>
<span class="sd">                uri=&quot;{fill in uri}&quot;,</span>
<span class="sd">                credential=credential</span>
<span class="sd">            )</span>

<span class="sd">        # Display the status in a progress bar</span>
<span class="sd">        db.progress_bar()</span>

<span class="sd">        # Print the details of the newly created datablob</span>
<span class="sd">        # If the upload is successful, the ready flag should be set to True</span>
<span class="sd">        print(db.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">_default_provider_and_regions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">cloud_provider</span><span class="p">,</span> <span class="n">region</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

    <span class="k">yield</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">_default_provider_and_regions</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.tag" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Tag an existing datablob in the server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>A string to tag the datablob.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas dataframe with the details of the tagged datablob.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">tag</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tag an existing datablob in the server.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A string to tag the datablob.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas dataframe with the details of the tagged datablob.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">/tag&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">_get_tag_name_and_datasource_id</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">response</span><span class="p">])[</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">BASIC_DB_COLS</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.to_datasource" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_datasource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file_type</span><span class="p">,</span> <span class="n">index_column</span><span class="p">,</span> <span class="n">sort_by</span><span class="p">,</span> <span class="n">deduplicate_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">blocksize</span><span class="o">=</span><span class="s1">&#39;256MB&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.to_datasource" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Process the datablob and return a datasource object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_type</code></td>
        <td><code>str</code></td>
        <td><p>The file type of the datablob. Currently, the API only supports <strong>"csv"</strong> and <strong>"parquet"</strong> as file types.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>index_column</code></td>
        <td><code>str</code></td>
        <td><p>The column to use as index (row labels).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sort_by</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>The column(s) to sort the data. Can either be a string or a list of strings.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deduplicate_data</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong> (default value <strong>False</strong>), the datasource will be created with duplicate rows removed.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>blocksize</code></td>
        <td><code>str</code></td>
        <td><p>The number of bytes used to split larger files. If None, then the default value <strong>256MB</strong> will be used.</p></td>
        <td><code>&#39;256MB&#39;</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td></td>
        <td><p>Additional keyword arguments to use while processing the data.e.g: To skip 100 lines from the bottom of file,
pass **{"skipfooter": 100}</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataSource</code></td>
      <td><p>An instance of the <code>DataSource</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the CSV file processing fails.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">to_datasource</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">DataBlob</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">index_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">deduplicate_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">blocksize</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;256MB&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataSource</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process the datablob and return a datasource object.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_type: The file type of the datablob. Currently, the API only supports **&quot;csv&quot;** and **&quot;parquet&quot;** as file types.</span>
<span class="sd">        index_column: The column to use as index (row labels).</span>
<span class="sd">        sort_by: The column(s) to sort the data. Can either be a string or a list of strings.</span>
<span class="sd">        deduplicate_data: If set to **True** (default value **False**), the datasource will be created with duplicate rows removed.</span>
<span class="sd">        blocksize: The number of bytes used to split larger files. If None, then the default value **256MB** will be used.</span>
<span class="sd">        kwargs: Additional keyword arguments to use while processing the data.e.g: To skip 100 lines from the bottom of file,</span>
<span class="sd">            pass **{&quot;skipfooter&quot;: 100}</span>

<span class="sd">    Returns:</span>
<span class="sd">        An instance of the `DataSource` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the CSV file processing fails.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_req</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">file_type</span><span class="o">=</span><span class="n">file_type</span><span class="p">,</span>
        <span class="n">deduplicate_data</span><span class="o">=</span><span class="n">deduplicate_data</span><span class="p">,</span>
        <span class="n">index_column</span><span class="o">=</span><span class="n">index_column</span><span class="p">,</span>
        <span class="n">sort_by</span><span class="o">=</span><span class="n">sort_by</span><span class="p">,</span>
        <span class="n">blocksize</span><span class="o">=</span><span class="n">blocksize</span><span class="p">,</span>
        <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">/to_datasource&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_req</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DataSource</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataBlob.wait" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#captn.client.DataBlob.wait" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Blocks execution while waiting for the remote action to complete.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This method will not check the progress if the datablob is created using the
<code>from_local</code> method.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sleep_for</code></td>
        <td><code>Union[int, float]</code></td>
        <td><p>The time interval in seconds between successive API calls.</p></td>
        <td><code>1</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time allowed in seconds for the asynchronous call to complete. If not the
progressbar will be terminated.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>TimeoutError</code></td>
        <td><p>in case of timeout.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="c1"># If the datablob is successfully uploaded, True will be returned.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Print the details of the newly created datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datablob created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataBlob</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the head of the data to ensure everything is fine.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Tag the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datablob</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Blocks execution while waiting for the remote action to complete.</span>

<span class="sd">    !!! info</span>

<span class="sd">        This method will not check the progress if the datablob is created using the</span>
<span class="sd">        `from_local` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        sleep_for: The time interval in seconds between successive API calls.</span>
<span class="sd">        timeout: The maximum time allowed in seconds for the asynchronous call to complete. If not the</span>
<span class="sd">            progressbar will be terminated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        TimeoutError: in case of timeout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;local&quot;</span><span class="p">]:</span>
        <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datablob/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">sleep_for</span><span class="o">=</span><span class="n">sleep_for</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">progress_status</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="captn.client.DataSource" class="doc doc-heading">
        <code>
DataSource        </code>



<a href="#captn.client.DataSource" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for managing datasources and training ML models on them.</p>
<p>To instantiate the <strong>DataSource</strong> class, please call <code>DataBlob.to_datasource</code> method of the <code>DataBlob</code> class.</p>
<p>The <strong>DataSource</strong> class has two categories of methods,</p>
<ul>
<li>Methods for managing the datasources.</li>
<li>Method for training a model against a datasource.</li>
</ul>
<p>Methods such as <code>delete</code>, <code>ls</code>, <code>details</code>, <code>head</code>, etc., can be used to manage and obtain additional information from a datasource instance.</p>
<p>And, the <code>train</code> method can be used to train a new model against a datasource instance.</p>
<p>All the function calls to the library are asynchronous and they return immediately. To manage completion, methods inside the returned object
will return a status object indicating the completion status and a method to display an interactive progress bar that can be called to check the progress.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="captn.client.DataSource.dtypes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dtypes</span><span class="p">:</span> <span class="n">DataFrame</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#captn.client.DataSource.dtypes" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the dtypes of the datasource.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame containing the data type of each column.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">datablob</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">folder_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">no_of_rows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pulled_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cloud_provider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">total_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">completed_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#captn.client.DataSource.__init__" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Constructs a new <code>DataSource</code> instance.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not construct this object directly by calling the constructor, please use <code>DataBlob.to_datasource</code> method instead.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>str</code></td>
        <td><p>DataSource uuid.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>datablob</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Datablob uuid.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>folder_size</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The uploaded datasource's size in bytes.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>no_of_rows</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of records in the datasource.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>error</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Contains the error message if the processing of the datasource fails.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>A flag that indicates the datasource's status. If the datasource is deleted, then <strong>False</strong> will be set.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>created</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The datasource creation date.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pulled_on</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The most recent date the datasource was uploaded.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The uuid of the user who created the datasource.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>hash</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The datasource hash.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The region name of the cloud provider where the datasource is stored</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>cloud_provider</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the cloud storage provider where the datasource is stored.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[List[Dict[str, str]]]</code></td>
        <td><p>Tag names associated with the datasource.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>total_steps</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of steps required to upload the datasource to the server.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>completed_steps</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of steps completed during the datasource's upload to the server.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">datablob</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">folder_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">no_of_rows</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pulled_on</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">hash</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">total_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">completed_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a new `DataSource` instance.</span>

<span class="sd">    Warning:</span>
<span class="sd">        Do not construct this object directly by calling the constructor, please use `DataBlob.to_datasource` method instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: DataSource uuid.</span>
<span class="sd">        datablob: Datablob uuid.</span>
<span class="sd">        folder_size: The uploaded datasource&#39;s size in bytes.</span>
<span class="sd">        no_of_rows: The number of records in the datasource.</span>
<span class="sd">        error: Contains the error message if the processing of the datasource fails.</span>
<span class="sd">        disabled: A flag that indicates the datasource&#39;s status. If the datasource is deleted, then **False** will be set.</span>
<span class="sd">        created: The datasource creation date.</span>
<span class="sd">        pulled_on: The most recent date the datasource was uploaded.</span>
<span class="sd">        user: The uuid of the user who created the datasource.</span>
<span class="sd">        hash: The datasource hash.</span>
<span class="sd">        region: The region name of the cloud provider where the datasource is stored</span>
<span class="sd">        cloud_provider: The name of the cloud storage provider where the datasource is stored.</span>
<span class="sd">        tags: Tag names associated with the datasource.</span>
<span class="sd">        total_steps: The number of steps required to upload the datasource to the server.</span>
<span class="sd">        completed_steps: The number of steps completed during the datasource&#39;s upload to the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">datablob</span> <span class="o">=</span> <span class="n">datablob</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">folder_size</span> <span class="o">=</span> <span class="n">folder_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_of_rows</span> <span class="o">=</span> <span class="n">no_of_rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">disabled</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pulled_on</span> <span class="o">=</span> <span class="n">pulled_on</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hash</span> <span class="o">=</span> <span class="nb">hash</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cloud_provider</span> <span class="o">=</span> <span class="n">cloud_provider</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_steps</span> <span class="o">=</span> <span class="n">total_steps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">completed_steps</span> <span class="o">=</span> <span class="n">completed_steps</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.as_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_df</span><span class="p">(</span><span class="n">dsx</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataSource.as_df" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the details of <code>DataSource</code> instances as a pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dsx</code></td>
        <td><code>List[DataSource]</code></td>
        <td><p>List of <code>DataSource</code> instances.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>Details of the datasources in a dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">as_df</span><span class="p">(</span><span class="n">dsx</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;DataSource&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the details of `DataSource` instances as a pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        dsx: List of `DataSource` instances.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Details of the datasources in a dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ds_lists</span> <span class="o">=</span> <span class="p">[{</span><span class="n">i</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">DataSource</span><span class="o">.</span><span class="n">ALL_DS_COLS</span><span class="p">}</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">dsx</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">ds_lists</span><span class="p">:</span>
        <span class="n">ds</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_values_from_item</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>

    <span class="n">lists_df</span> <span class="o">=</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">ds_lists</span><span class="p">,</span> <span class="n">DataSource</span><span class="o">.</span><span class="n">BASIC_DS_COLS</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">lists_df</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataSource</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.delete" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.delete" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Delete a datasource from the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the details of the deleted datasource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a datasource from the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the details of the deleted datasource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_values_from_item</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">response</span><span class="p">])[</span><span class="n">DataSource</span><span class="o">.</span><span class="n">BASIC_DS_COLS</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataSource</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.details" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return details of a datasource.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>The datasource details as a pandas dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of a datasource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The datasource details as a pandas dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_values_from_item</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">response</span><span class="p">])[</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ALL_DS_COLS</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataSource</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.head" class="doc doc-heading">
<code class="highlight language-python"><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.head" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the first few rows of the datasource.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>The first few rows of the datasource as a pandas dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the first few rows of the datasource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The first few rows of the datasource as a pandas dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">/head&quot;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">dict_to_df</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.is_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.is_ready" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Check if the method's progress is complete.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><strong>True</strong> if the progress is completed, else <strong>False</strong>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the method&#39;s progress is complete.</span>

<span class="sd">    Returns:</span>
<span class="sd">        **True** if the progress is completed, else **False**.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">progress_status</span><span class="o">.</span><span class="n">is_ready</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">completed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.DataSource.ls" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of <code>DataSource</code> instances available in server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>offset</code></td>
        <td><code>int</code></td>
        <td><p>The number of datasources to offset at the beginning. If <strong>None</strong>,
then the default value <strong>0</strong> will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of datasources to return from the server. If <strong>None</strong>,
then the default value <strong>100</strong> will be used.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then only the deleted datasources will be returned.
Else, the default value <strong>False</strong> will be used to return only the list
of active datasources.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>completed</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then only the datasources that are successfully processed
in server will be returned. Else, the default value <strong>False</strong> will be used to
return all the datasources.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[DataSource]</code></td>
      <td><p>A list of <code>DataSource</code> instances available in server.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">ls</span><span class="p">(</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;DataSource&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the list of `DataSource` instances available in server.</span>

<span class="sd">    Args:</span>
<span class="sd">        offset: The number of datasources to offset at the beginning. If **None**,</span>
<span class="sd">            then the default value **0** will be used.</span>
<span class="sd">        limit: The maximum number of datasources to return from the server. If **None**,</span>
<span class="sd">            then the default value **100** will be used.</span>
<span class="sd">        disabled: If set to **True**, then only the deleted datasources will be returned.</span>
<span class="sd">            Else, the default value **False** will be used to return only the list</span>
<span class="sd">            of active datasources.</span>
<span class="sd">        completed: If set to **True**, then only the datasources that are successfully processed</span>
<span class="sd">            in server will be returned. Else, the default value **False** will be used to</span>
<span class="sd">            return all the datasources.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `DataSource` instances available in server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/?disabled=</span><span class="si">{</span><span class="n">disabled</span><span class="si">}</span><span class="s2">&amp;completed=</span><span class="si">{</span><span class="n">completed</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">dsx</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">DataSource</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
            <span class="n">datablob</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;datablob&quot;</span><span class="p">],</span>
            <span class="n">folder_size</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;folder_size&quot;</span><span class="p">],</span>
            <span class="n">no_of_rows</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;no_of_rows&quot;</span><span class="p">],</span>
            <span class="n">region</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
            <span class="n">cloud_provider</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;cloud_provider&quot;</span><span class="p">],</span>
            <span class="n">error</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span>
            <span class="n">disabled</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
            <span class="n">created</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
            <span class="n">pulled_on</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;pulled_on&quot;</span><span class="p">],</span>
            <span class="n">user</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">],</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span>
            <span class="n">total_steps</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;total_steps&quot;</span><span class="p">],</span>
            <span class="n">completed_steps</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;completed_steps&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">lists</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">dsx</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.progress_bar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.progress_bar" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Blocks the execution and displays a progress bar showing the remote action progress.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sleep_for</code></td>
        <td><code>Union[int, float]</code></td>
        <td><p>The time interval in seconds between successive API calls.</p></td>
        <td><code>5</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time allowed in seconds for the asynchronous call to complete. If not the
progressbar will be terminated.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>TimeoutError</code></td>
        <td><p>in case of connection timeout.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">,</span> <span class="n">sleep_for</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Blocks the execution and displays a progress bar showing the remote action progress.</span>

<span class="sd">    Args:</span>
<span class="sd">        sleep_for: The time interval in seconds between successive API calls.</span>
<span class="sd">        timeout: The maximum time allowed in seconds for the asynchronous call to complete. If not the</span>
<span class="sd">            progressbar will be terminated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        TimeoutError: in case of connection timeout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="n">sleep_for</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
    <span class="p">)</span>

    <span class="n">progress_status</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.tag" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Tag an existing datasource in server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>A string to tag the datasource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas dataframe with the details of the tagged datasource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">tag</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tag an existing datasource in server.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A string to tag the datasource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas dataframe with the details of the tagged datasource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">/tag&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_values_from_item</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">],</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">response</span><span class="p">])[</span><span class="n">DataSource</span><span class="o">.</span><span class="n">BASIC_DS_COLS</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">DataSource</span><span class="o">.</span><span class="n">COLS_TO_RENAME</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">add_ready_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.train" class="doc doc-heading">
<code class="highlight language-python"><span class="n">train</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_column</span><span class="p">,</span> <span class="n">timestamp_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_column</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">predict_after</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.train" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Train a model against the datasource.</p>
<p>This method trains the model for predicting which clients are most likely to have a specified
event in the future.</p>
<p>The call to this method is asynchronous and the progress can be checked using the progress bar method
or the status flag attribute available in the <code>DataSource</code> class.</p>
<p>For more model specific information, please check the documentation of <code>Model</code> class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client_column</code></td>
        <td><code>str</code></td>
        <td><p>The column name that uniquely identifies the users/clients.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timestamp_column</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The timestamp column indicating the time of an event. If not passed,
then the default value <strong>None</strong> will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>target_column</code></td>
        <td><code>str</code></td>
        <td><p>Target column name that indicates the type of the event.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target</code></td>
        <td><code>str</code></td>
        <td><p>Target event name to train and make predictions. You can pass the target event as a string or as a
regular expression for predicting more than one event. For example, passing <strong>*checkout</strong> will
train a model to predict any checkout event.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>predict_after</code></td>
        <td><code>timedelta</code></td>
        <td><p>Time delta in hours of the expected target event.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Model</code></td>
      <td><p>An instance of the <code>Model</code> class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the input parameters to the API are invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">train</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">timestamp_column</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">target_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Model</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Train a model against the datasource.</span>

<span class="sd">    This method trains the model for predicting which clients are most likely to have a specified</span>
<span class="sd">    event in the future.</span>

<span class="sd">    The call to this method is asynchronous and the progress can be checked using the progress bar method</span>
<span class="sd">    or the status flag attribute available in the `DataSource` class.</span>

<span class="sd">    For more model specific information, please check the documentation of `Model` class.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_column: The column name that uniquely identifies the users/clients.</span>
<span class="sd">        timestamp_column: The timestamp column indicating the time of an event. If not passed,</span>
<span class="sd">            then the default value **None** will be used.</span>
<span class="sd">        target_column: Target column name that indicates the type of the event.</span>
<span class="sd">        target: Target event name to train and make predictions. You can pass the target event as a string or as a</span>
<span class="sd">            regular expression for predicting more than one event. For example, passing ***checkout** will</span>
<span class="sd">            train a model to predict any checkout event.</span>
<span class="sd">        predict_after: Time delta in hours of the expected target event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An instance of the `Model` class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the input parameters to the API are invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/model/train&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">data_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
            <span class="n">client_column</span><span class="o">=</span><span class="n">client_column</span><span class="p">,</span>
            <span class="n">target_column</span><span class="o">=</span><span class="n">target_column</span><span class="p">,</span>
            <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
            <span class="n">predict_after</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">predict_after</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()),</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">Model</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.DataSource.wait" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#captn.client.DataSource.wait" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Blocks execution while waiting for the remote action to complete.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sleep_for</code></td>
        <td><code>Union[int, float]</code></td>
        <td><p>The time interval in seconds between successive API calls.</p></td>
        <td><code>1</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time allowed in seconds for the asynchronous call to complete. If not the
progressbar will be terminated.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>TimeoutError</code></td>
        <td><p>in case of timeout.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataBlob</span><span class="p">,</span> <span class="n">DataSource</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a datablob</span>
<span class="c1"># In this example, the datablob will be stored in an AWS S3 bucket. The</span>
<span class="c1"># access_key and the secret_key are set in the AWS_ACCESS_KEY_ID and</span>
<span class="c1"># AWS_SECRET_ACCESS_KEY environment variables, and the region is set to</span>
<span class="c1"># eu-west-3; feel free to change the cloud provider and the region to</span>
<span class="c1"># suit your needs.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">DataBlob</span><span class="o">.</span><span class="n">from_s3</span><span class="p">(</span>
    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;{fill in uri}&quot;</span><span class="p">,</span>
    <span class="n">cloud_provider</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="n">db</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Create a datasource</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">to_datasource</span><span class="p">(</span>
    <span class="n">file_type</span><span class="o">=</span><span class="s2">&quot;{fill in file_type}&quot;</span><span class="p">,</span>
    <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;{fill in index_column}&quot;</span><span class="p">,</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;{fill in sort_by}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the status in a progress bar</span>
<span class="c1"># Call the wait method to wait for the progress to finish but</span>
<span class="c1"># without displaying an interactive progress bar.</span>
<span class="n">ds</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the ready status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">is_ready</span><span class="p">())</span>

<span class="c1"># Display the data types of the datasource&#39;s columns.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Display the details of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Display the details of all datasource created by the currently</span>
<span class="c1"># logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">DataSource</span><span class="o">.</span><span class="n">ls</span><span class="p">()))</span>

<span class="c1"># Display the first few records of the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Train a model against the datasource.</span>
<span class="c1"># This example predicts which users will perform a purchase</span>
<span class="c1"># event (&quot;*purchase&quot;) three hours before they actually do it.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">client_column</span><span class="o">=</span><span class="s2">&quot;{fill in client_column}&quot;</span><span class="p">,</span>
    <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;{fill in target_column}&quot;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;*purchase&quot;</span><span class="p">,</span>
    <span class="n">predict_after</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Display the training status in a progress bar</span>
<span class="n">model</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">()</span>

<span class="c1"># Display the details of the newly created model</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>

<span class="c1"># Tag the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;{fill in tag_name}&quot;</span><span class="p">))</span>

<span class="c1"># Delete the datasource</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">delete</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@patch</span>
<span class="k">def</span> <span class="nf">wait</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">DataSource</span><span class="p">,</span> <span class="n">sleep_for</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Blocks execution while waiting for the remote action to complete.</span>

<span class="sd">    Args:</span>
<span class="sd">        sleep_for: The time interval in seconds between successive API calls.</span>
<span class="sd">        timeout: The maximum time allowed in seconds for the asynchronous call to complete. If not the</span>
<span class="sd">            progressbar will be terminated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        TimeoutError: in case of timeout.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">progress_status</span> <span class="o">=</span> <span class="n">ProgressStatus</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/datasource/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">sleep_for</span><span class="o">=</span><span class="n">sleep_for</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
    <span class="p">)</span>

    <span class="n">progress_status</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="captn.client.User" class="doc doc-heading">
        <code>
User        </code>



<a href="#captn.client.User" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for creating, managing, and updating users on the server.</p>
<p>The <strong>User</strong> class has two types of methods:</p>
<ul>
<li>Methods for creating and managing users.</li>
<li>Method for updating and adding additional security to user accounts.</li>
</ul>
<p>Methods such as <code>create</code>, <code>enable</code>, <code>disable</code>, and <code>ls</code> can be used to manage user accounts on the server, but access to them requires super user privileges.</p>
<p>The remaining methods do not require super user privileges and are used to update/additionally secure user accounts.</p>
<p>In addition to the regular authentication with credentials, the users can enable multi-factor authentication (MFA) and single sign-on (SSO) for their accounts.</p>
<p>To help protect your account, we recommend that you enable multi-factor authentication (MFA). MFA provides additional security by requiring you to provide unique verification code (OTP) in addition to your regular sign-in credentials when performing critical operations.</p>
<p>Your account can be configured for MFA in just two easy steps:</p>
<ul>
<li>
<p>To begin, you need to enable MFA for your account by calling the <code>enable_mfa</code> method, which will generate a QR code. You can then scan the QR code with an authenticator app, such as Google Authenticator and follow the on-device instructions to finish the setup in your smartphone.</p>
</li>
<li>
<p>Finally, activate MFA for your account by calling <code>activate_mfa</code> and passing the dynamically generated six-digit verification code from your smartphone's authenticator app.</p>
</li>
</ul>
<p>Single sign-on (SSO) can be enabled for your account in three simple steps:</p>
<ul>
<li>
<p>Enable the SSO for a provider by calling the <code>enable_sso</code> method with the SSO provider name and an email address. At the moment, we only support "google" and "github" as SSO providers. We intend to support additional SSO providers in future releases.</p>
</li>
<li>
<p>Before you can start generating new tokens with SSO, you must first authenticate with the SSO provider. Call the get_token with the same SSO provider you have enabled in the step above to generate an SSO authorization URL. Please copy and paste it into your preferred browser and complete the authentication process with the SSO provider.</p>
</li>
<li>
<p>After successfully authenticating with the SSO provider, call the <code>Client.set_sso_token</code> method to generate a new token and use it automatically in all future interactions with the captn server.</p>
</li>
</ul>
<p>Here's an example of using the User class's methods to display the logged-in user's uuid</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Display the uuid of logged-in user</span>
<span class="n">user_details</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
</code></pre></div>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subscription_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">super_user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_mfa_active</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">phone_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_phone_number_verified</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#captn.client.User.__init__" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Constructs a new User instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>str</code></td>
        <td><p>User uuid.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The username of the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>first_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The first name of the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>last_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The last name of the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>email</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The email address of the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>subscription_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>User subscription type. Currently, the API supports only the following subscription
types <strong>small</strong>, <strong>medium</strong> and <strong>large</strong>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>super_user</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to indicate the user type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Flag to indicate the status of the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>created</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>User creation date.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>is_mfa_active</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to indicate the user's MFA status.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>phone_number</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The registered phone number of the user. The phone number should follow the pattern of country
code followed by your phone number. For example, <strong>440123456789, +440123456789, 00440123456789, +44 0123456789,
and (+44) 012 345 6789</strong> are all valid formats for registering a UK phone number.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>is_phone_number_verified</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to indicate the phone number registration status.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">subscription_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">super_user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_mfa_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">phone_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_phone_number_verified</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a new User instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: User uuid.</span>
<span class="sd">        username: The username of the user.</span>
<span class="sd">        first_name: The first name of the user.</span>
<span class="sd">        last_name: The last name of the user.</span>
<span class="sd">        email: The email address of the user.</span>
<span class="sd">        subscription_type: User subscription type. Currently, the API supports only the following subscription</span>
<span class="sd">            types **small**, **medium** and **large**.</span>
<span class="sd">        super_user: Flag to indicate the user type.</span>
<span class="sd">        disabled: Flag to indicate the status of the user.</span>
<span class="sd">        created: User creation date.</span>
<span class="sd">        is_mfa_active: Flag to indicate the user&#39;s MFA status.</span>
<span class="sd">        phone_number: The registered phone number of the user. The phone number should follow the pattern of country</span>
<span class="sd">            code followed by your phone number. For example, **440123456789, +440123456789, 00440123456789, +44 0123456789,</span>
<span class="sd">            and (+44) 012 345 6789** are all valid formats for registering a UK phone number.</span>
<span class="sd">        is_phone_number_verified: Flag to indicate the phone number registration status.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="n">first_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="n">last_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">email</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">subscription_type</span> <span class="o">=</span> <span class="n">subscription_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">super_user</span> <span class="o">=</span> <span class="n">super_user</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">disabled</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_mfa_active</span> <span class="o">=</span> <span class="n">is_mfa_active</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">phone_number</span> <span class="o">=</span> <span class="n">phone_number</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_phone_number_verified</span> <span class="o">=</span> <span class="n">is_phone_number_verified</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.activate_mfa" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate_mfa</span><span class="p">(</span><span class="n">otp</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.activate_mfa" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Activate MFA for the user</p>
<p>Adding MFA to your account is a two-step process. To begin, you must enable MFA for your account
by calling the <code>enable_mfa</code> method, then call the <code>activate_mfa</code> method and pass the current OTP
from the authenticator application to verify and activate MFA for your account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>otp</code></td>
        <td><code>int</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the MFA activated user details</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user entered six-digit verification code is invalid</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example to enable and activate MFA for the user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>

<span class="c1"># Enable MFA for the user</span>
<span class="c1"># The line below will generate a QR code. To finish the setup on your smartphone,</span>
<span class="c1"># scan the QR code with an authenticator app like Google Authenticator and</span>
<span class="c1"># follow the on-device instructions</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable_mfa</span><span class="p">()</span>

<span class="c1"># After you&#39;ve completed the setup, enter the current OTP from the authenticator</span>
<span class="c1"># app to verify and enable MFA for your account</span>
<span class="n">User</span><span class="o">.</span><span class="n">activate_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="c1"># The is_mfa_active flag should be set to True, if the setup is successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">activate_mfa</span><span class="p">(</span><span class="n">otp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Activate MFA for the user</span>

<span class="sd">    Adding MFA to your account is a two-step process. To begin, you must enable MFA for your account</span>
<span class="sd">    by calling the `enable_mfa` method, then call the `activate_mfa` method and pass the current OTP</span>
<span class="sd">    from the authenticator application to verify and activate MFA for your account.</span>

<span class="sd">    Args:</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the MFA activated user details</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the user entered six-digit verification code is invalid</span>

<span class="sd">    Here&#39;s an example to enable and activate MFA for the user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>

<span class="sd">        # Enable MFA for the user</span>
<span class="sd">        # The line below will generate a QR code. To finish the setup on your smartphone,</span>
<span class="sd">        # scan the QR code with an authenticator app like Google Authenticator and</span>
<span class="sd">        # follow the on-device instructions</span>
<span class="sd">        User.enable_mfa()</span>

<span class="sd">        # After you&#39;ve completed the setup, enter the current OTP from the authenticator</span>
<span class="sd">        # app to verify and enable MFA for your account</span>
<span class="sd">        User.activate_mfa(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        # The is_mfa_active flag should be set to True, if the setup is successful</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/user/mfa/activate&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">user_otp</span><span class="o">=</span><span class="n">otp</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.as_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_df</span><span class="p">(</span><span class="n">ux</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.as_df" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the details of User instances as a pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ux</code></td>
        <td><code>List[User]</code></td>
        <td><p>List of user instances.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>Details of all the User in a dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the details of all active users</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="c1"># Only super users can get the list of available users</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the details of all active users</span>
<span class="c1"># Set the disabled parameter to True to display the details of inactive users</span>
<span class="n">ux</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">ux</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">as_df</span><span class="p">(</span><span class="n">ux</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;User&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the details of User instances as a pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        ux: List of user instances.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Details of all the User in a dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example of displaying the details of all active users</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        # Only super users can get the list of available users</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the details of all active users</span>
<span class="sd">        # Set the disabled parameter to True to display the details of inactive users</span>
<span class="sd">        ux = User.ls()</span>
<span class="sd">        print(User.as_df(ux))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="n">get_attributes_from_instances</span><span class="p">(</span><span class="n">ux</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">lists</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.create" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">subscription_type</span><span class="p">,</span> <span class="n">super_user</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">phone_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.create" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create a new user in the server.</p>
<p>To access this method, you must have super user privileges.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>The new user's username. The username must be unique or an exception will be thrown.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>first_name</code></td>
        <td><code>str</code></td>
        <td><p>The new user's first name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>last_name</code></td>
        <td><code>str</code></td>
        <td><p>The new user's last name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>email</code></td>
        <td><code>str</code></td>
        <td><p>The new user's email. The email must be unique or an exception will be thrown.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>str</code></td>
        <td><p>The new user's password.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>subscription_type</code></td>
        <td><code>str</code></td>
        <td><p>User subscription type. Currently, the API supports only the following subscription
types <strong>small</strong>, <strong>medium</strong> and <strong>large</strong>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>super_user</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then the new user will have super user privilages.
If <strong>None</strong>, then the default value <strong>False</strong> will be used to create a non-super user.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>phone_number</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Phone number to be added to the user account. The phone number should follow the pattern of the country
code followed by your phone number. For example, <strong>440123456789, +440123456789, 00440123456789, +44 0123456789,
and (+44) 012 345 6789</strong> are all valid formats for registering a UK phone number.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the details of the newly created user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the username or email is already present in the server.</p></td>
      </tr>
  </tbody>
</table>      <p>Below is an example of creating a new user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># Details required to create a new user</span>
<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">first_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in first_name}&quot;</span>
<span class="n">last_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in last_name}&quot;</span>
<span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;{fill in email}&quot;</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;{fill in password}&quot;</span>
<span class="n">super_user</span> <span class="o">=</span> <span class="s2">&quot;{fill in super_user}&quot;</span>
<span class="n">subscription_type</span> <span class="o">=</span> <span class="s2">&quot;{fill in subscription_type}&quot;</span>

<span class="c1"># Create a new user. To access this method, you must have super user privileges.</span>
<span class="n">new_user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">first_name</span><span class="o">=</span><span class="n">first_name</span><span class="p">,</span>
    <span class="n">last_name</span><span class="o">=</span><span class="n">last_name</span><span class="p">,</span>
    <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
    <span class="n">super_user</span><span class="o">=</span><span class="n">super_user</span><span class="p">,</span>
    <span class="n">subscription_type</span><span class="o">=</span><span class="n">subscription_type</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the details of the newly created user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_user</span><span class="p">)</span>

<span class="c1"># An exception will be raised if you attempt to create a new user</span>
<span class="c1"># with an already-used username or email address.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">User</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">first_name</span><span class="o">=</span><span class="n">first_name</span><span class="p">,</span>
        <span class="n">last_name</span><span class="o">=</span><span class="n">last_name</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="n">super_user</span><span class="o">=</span><span class="n">super_user</span><span class="p">,</span>
        <span class="n">subscription_type</span><span class="o">=</span><span class="n">subscription_type</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">create</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">subscription_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">super_user</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">phone_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new user in the server.</span>

<span class="sd">    To access this method, you must have super user privileges.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: The new user&#39;s username. The username must be unique or an exception will be thrown.</span>
<span class="sd">        first_name: The new user&#39;s first name.</span>
<span class="sd">        last_name: The new user&#39;s last name.</span>
<span class="sd">        email: The new user&#39;s email. The email must be unique or an exception will be thrown.</span>
<span class="sd">        password: The new user&#39;s password.</span>
<span class="sd">        subscription_type: User subscription type. Currently, the API supports only the following subscription</span>
<span class="sd">            types **small**, **medium** and **large**.</span>
<span class="sd">        super_user: If set to **True**, then the new user will have super user privilages.</span>
<span class="sd">            If **None**, then the default value **False** will be used to create a non-super user.</span>
<span class="sd">        phone_number: Phone number to be added to the user account. The phone number should follow the pattern of the country</span>
<span class="sd">            code followed by your phone number. For example, **440123456789, +440123456789, 00440123456789, +44 0123456789,</span>
<span class="sd">            and (+44) 012 345 6789** are all valid formats for registering a UK phone number.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">            A pandas DataFrame encapsulating the details of the newly created user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ValueError: If the username or email is already present in the server.</span>

<span class="sd">    Below is an example of creating a new user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>

<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Details required to create a new user</span>
<span class="sd">        username = &quot;{fill in username}&quot;</span>
<span class="sd">        first_name = &quot;{fill in first_name}&quot;</span>
<span class="sd">        last_name = &quot;{fill in last_name}&quot;</span>
<span class="sd">        email = &quot;{fill in email}&quot;</span>
<span class="sd">        password = &quot;{fill in password}&quot;</span>
<span class="sd">        super_user = &quot;{fill in super_user}&quot;</span>
<span class="sd">        subscription_type = &quot;{fill in subscription_type}&quot;</span>

<span class="sd">        # Create a new user. To access this method, you must have super user privileges.</span>
<span class="sd">        new_user = User.create(</span>
<span class="sd">            username=username,</span>
<span class="sd">            first_name=first_name,</span>
<span class="sd">            last_name=last_name,</span>
<span class="sd">            email=email,</span>
<span class="sd">            password=password,</span>
<span class="sd">            super_user=super_user,</span>
<span class="sd">            subscription_type=subscription_type,</span>
<span class="sd">        )</span>

<span class="sd">        # Display the details of the newly created user</span>
<span class="sd">        print(new_user)</span>

<span class="sd">        # An exception will be raised if you attempt to create a new user</span>
<span class="sd">        # with an already-used username or email address.</span>
<span class="sd">        try:</span>
<span class="sd">            User.create(</span>
<span class="sd">                username=username,</span>
<span class="sd">                first_name=first_name,</span>
<span class="sd">                last_name=last_name,</span>
<span class="sd">                email=email,</span>
<span class="sd">                password=password,</span>
<span class="sd">                super_user=super_user,</span>
<span class="sd">                subscription_type=subscription_type,</span>
<span class="sd">            )</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">phone_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">phone_number</span> <span class="o">=</span> <span class="n">standardize_phone_number</span><span class="p">(</span><span class="n">phone_number</span><span class="p">)</span>

    <span class="n">req_json</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">first_name</span><span class="o">=</span><span class="n">first_name</span><span class="p">,</span>
        <span class="n">last_name</span><span class="o">=</span><span class="n">last_name</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span>
        <span class="n">subscription_type</span><span class="o">=</span><span class="n">subscription_type</span><span class="p">,</span>
        <span class="n">super_user</span><span class="o">=</span><span class="n">super_user</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="n">phone_number</span><span class="o">=</span><span class="n">phone_number</span><span class="p">,</span>
        <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/user/&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req_json</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.details" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Get user details</p>
<p>Please do not pass the optional user parameter unless you are a super user. Only a
super user can view details for other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Account user_uuid/username to get details. If not passed, then the currently logged-in
details will be returned.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Union[str, bool]]</code></td>
      <td><p>A dict containing the details of the user</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid/username is invalid or the user have insufficient permission to access other user's data</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the logged-in user's uuid</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Display the uuid of logged-in user</span>
<span class="c1"># If you are a super user, you can view the details of other users by</span>
<span class="c1"># passing their uuid/username in the user parameter.</span>
<span class="n">user_details</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>

<span class="c1"># If a Non-super user tries to access other user&#39;s detail,</span>
<span class="c1"># an exception will be thrown.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">&quot;some_other_username&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get user details</span>

<span class="sd">    Please do not pass the optional user parameter unless you are a super user. Only a</span>
<span class="sd">    super user can view details for other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: Account user_uuid/username to get details. If not passed, then the currently logged-in</span>
<span class="sd">            details will be returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the details of the user</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the user_uuid/username is invalid or the user have insufficient permission to access other user&#39;s data</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example of displaying the logged-in user&#39;s uuid</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>

<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Display the uuid of logged-in user</span>
<span class="sd">        # If you are a super user, you can view the details of other users by</span>
<span class="sd">        # passing their uuid/username in the user parameter.</span>
<span class="sd">        user_details = User.details()</span>
<span class="sd">        print(user_details[&quot;uuid&quot;])</span>

<span class="sd">        # If a Non-super user tries to access other user&#39;s detail,</span>
<span class="sd">        # an exception will be thrown.</span>
<span class="sd">        try:</span>
<span class="sd">            User.details(user=&quot;some_other_username&quot;)</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">relative_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;/user/details?user_uuid_or_name=</span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;/user/details&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="n">relative_url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.disable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.disable" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Disable one or more users.</p>
<p>To access this method, you must have super user privileges.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>user_uuid/username to disabled. To disable multiple users, please pass the uuids/names as a list.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the details of the disabled user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example to disable a user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># Optional Step: For demonstration purpose, create a new user</span>
<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">first_name</span><span class="o">=</span><span class="s2">&quot;{fill in first_name}&quot;</span><span class="p">,</span>
    <span class="n">last_name</span><span class="o">=</span><span class="s2">&quot;{fill in last_name}&quot;</span><span class="p">,</span>
    <span class="n">email</span><span class="o">=</span><span class="s2">&quot;{fill in email}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">,</span>
    <span class="n">subscription_type</span><span class="o">=</span><span class="s2">&quot;{fill in subscription_type}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the details of the user you want to disable using their username/uuid</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">username</span><span class="p">))</span>

<span class="c1"># Disable the user</span>
<span class="c1"># To disable multiple users, pass a list of username/uuid</span>
<span class="n">User</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>

<span class="c1"># Check whether the user has been disabled</span>
<span class="c1"># The disabled flag should be set to True, if the disable was sucessful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">username</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disable one or more users.</span>

<span class="sd">    To access this method, you must have super user privileges.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user_uuid/username to disabled. To disable multiple users, please pass the uuids/names as a list.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the details of the disabled user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example to disable a user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Optional Step: For demonstration purpose, create a new user</span>
<span class="sd">        username = &quot;{fill in username}&quot;</span>
<span class="sd">        User.create(</span>
<span class="sd">            username=username,</span>
<span class="sd">            first_name=&quot;{fill in first_name}&quot;,</span>
<span class="sd">            last_name=&quot;{fill in last_name}&quot;,</span>
<span class="sd">            email=&quot;{fill in email}&quot;,</span>
<span class="sd">            password=&quot;{fill in password}&quot;,</span>
<span class="sd">            subscription_type=&quot;{fill in subscription_type}&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        # Display the details of the user you want to disable using their username/uuid</span>
<span class="sd">        print(User.details(username))</span>

<span class="sd">        # Disable the user</span>
<span class="sd">        # To disable multiple users, pass a list of username/uuid</span>
<span class="sd">        User.disable(user=username)</span>

<span class="sd">        # Check whether the user has been disabled</span>
<span class="sd">        # The disabled flag should be set to True, if the disable was sucessful</span>
<span class="sd">        print(User.details(username))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_users</span> <span class="o">=</span> <span class="n">user</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">user</span><span class="p">]</span>
    <span class="n">response_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">_users</span><span class="p">:</span>
        <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/user/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response_list</span><span class="p">)[</span><span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.disable_mfa" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_mfa</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.disable_mfa" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Disable MFA for the user</p>
<p>We currently support two types of OTPs for disabling multi-factor authentication on your account.</p>
<p>If you have access to the authenticator app, enter the app's dynamically generated six-digit verification
code(OTP). If you don't have access to the authentication app, you can have an OTP sent to your registered
phone number via SMS.</p>
<p>To receive OTP via SMS, first call the <code>send_sms_otp</code> method, which will send the OTP to your registered
phone number. Once you have the OTP, call the <code>disable_mfa</code> method to deactivate MFA for your account.</p>
<p>Currently, we only support the above two methods for disabling MFA. If you do not have access to the authenticator
app or your registered phone number, please contact your administrator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please do not pass the user parameter unless you are a super user. Only
a super user can disable MFA for other users.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Account user_uuid/username to disable MFA. If not passed, then the default
value <strong>None</strong> will be used to disable MFA for the currently logged-in user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app or
the OTP you have received via SMS.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the MFA disabled user details</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If a non-super user tries to disable MFA for other users</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid/username is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of disabling MFA for the currently logged in user using the verification code generated by the authentication application.
The example assumes that you have already activated the MFA on your account and have access to the authentication application.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Optional Step: Skip this step if you&#39;ve already logged-in</span>
<span class="c1"># Authenticate. Pass the current OTP from the authenticator app below</span>
<span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">,</span>
    <span class="n">otp</span><span class="o">=</span><span class="n">otp</span>
<span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>

<span class="c1"># Disable MFA for the user</span>
<span class="n">User</span><span class="o">.</span><span class="n">disable_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="c1"># The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>
</code></pre></div>
      <p>Here's an example of disabling MFA for the currently logged in user using the SMS OTP. The example assumes that you have
already registered and validated your phone number on our servers.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Optional Step: Request OTP via SMS to authenticate</span>
<span class="c1"># If you&#39;ve already logged in, you can skip the two optional steps</span>
<span class="c1"># If you&#39;ve already have a valid token, skip the below optional step</span>
<span class="c1"># and call Client.set_token instead of Client.get_token</span>
<span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;get_token&quot;</span> <span class="c1"># Don&#39;t change the message_template_name</span>
<span class="p">)</span>

<span class="c1"># Optional Step: Authenticate using SMS OTP</span>
<span class="c1"># The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="c1"># phone number, which you must fill below</span>
<span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span>
<span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>

<span class="c1"># Request OTP via SMS to disable MFA</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;disable_mfa&quot;</span> <span class="c1"># Don&#39;t change the message_template_name</span>
<span class="p">)</span>

<span class="c1"># The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="c1"># phone number, which you must fill below</span>
<span class="n">User</span><span class="o">.</span><span class="n">disable_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="c1"># The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">disable_mfa</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disable MFA for the user</span>

<span class="sd">    We currently support two types of OTPs for disabling multi-factor authentication on your account.</span>

<span class="sd">    If you have access to the authenticator app, enter the app&#39;s dynamically generated six-digit verification</span>
<span class="sd">    code(OTP). If you don&#39;t have access to the authentication app, you can have an OTP sent to your registered</span>
<span class="sd">    phone number via SMS.</span>

<span class="sd">    To receive OTP via SMS, first call the `send_sms_otp` method, which will send the OTP to your registered</span>
<span class="sd">    phone number. Once you have the OTP, call the `disable_mfa` method to deactivate MFA for your account.</span>

<span class="sd">    Currently, we only support the above two methods for disabling MFA. If you do not have access to the authenticator</span>
<span class="sd">    app or your registered phone number, please contact your administrator.</span>

<span class="sd">    !!! note</span>

<span class="sd">        Please do not pass the user parameter unless you are a super user. Only</span>
<span class="sd">        a super user can disable MFA for other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: Account user_uuid/username to disable MFA. If not passed, then the default</span>
<span class="sd">            value **None** will be used to disable MFA for the currently logged-in user.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app or</span>
<span class="sd">            the OTP you have received via SMS.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the MFA disabled user details</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If a non-super user tries to disable MFA for other users</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ValueError: If the user_uuid/username is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of disabling MFA for the currently logged in user using the verification code generated by the authentication application.</span>
<span class="sd">    The example assumes that you have already activated the MFA on your account and have access to the authentication application.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Optional Step: Skip this step if you&#39;ve already logged-in</span>
<span class="sd">        # Authenticate. Pass the current OTP from the authenticator app below</span>
<span class="sd">        otp=&quot;{fill in otp}&quot;</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in username}&quot;,</span>
<span class="sd">            password=&quot;{fill in password}&quot;,</span>
<span class="sd">            otp=otp</span>
<span class="sd">        )</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>

<span class="sd">        # Disable MFA for the user</span>
<span class="sd">        User.disable_mfa(otp=otp)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        # The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of disabling MFA for the currently logged in user using the SMS OTP. The example assumes that you have</span>
<span class="sd">    already registered and validated your phone number on our servers.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Optional Step: Request OTP via SMS to authenticate</span>
<span class="sd">        # If you&#39;ve already logged in, you can skip the two optional steps</span>
<span class="sd">        # If you&#39;ve already have a valid token, skip the below optional step</span>
<span class="sd">        # and call Client.set_token instead of Client.get_token</span>
<span class="sd">        username=&quot;{fill in username}&quot;</span>
<span class="sd">        User.send_sms_otp(</span>
<span class="sd">            username=username,</span>
<span class="sd">            message_template_name=&quot;get_token&quot; # Don&#39;t change the message_template_name</span>
<span class="sd">        )</span>

<span class="sd">        # Optional Step: Authenticate using SMS OTP</span>
<span class="sd">        # The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="sd">        # phone number, which you must fill below</span>
<span class="sd">        password=&quot;{fill in password}&quot;</span>
<span class="sd">        otp=&quot;{fill in otp}&quot;</span>
<span class="sd">        Client.get_token(username=username, password=password, otp=otp)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>

<span class="sd">        # Request OTP via SMS to disable MFA</span>
<span class="sd">        User.send_sms_otp(</span>
<span class="sd">            username=username,</span>
<span class="sd">            message_template_name=&quot;disable_mfa&quot; # Don&#39;t change the message_template_name</span>
<span class="sd">        )</span>

<span class="sd">        # The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="sd">        # phone number, which you must fill below</span>
<span class="sd">        User.disable_mfa(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        # The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/user/mfa/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/disable&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.disable_sso" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.disable_sso" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Disable Single sign-on (SSO) for the user</p>
<p>Please do not pass the user parameter unless you are a super user. Only
a super user can disable SSO for other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sso_provider</code></td>
        <td><code>str</code></td>
        <td><p>The name of the Single sign-on (SSO) provider you want to disable.
At present, the API only supports <strong>"google"</strong> and <strong>"github"</strong> as valid SSO identity providers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Account user_uuid/username to disable SSO. If not passed, then the default
value <strong>None</strong> will be used to disable SSO for the currently logged-in user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A pandas DataFrame encapsulating the SSO disabled user details</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If a non-super user tries to disable SSO for other users</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example to disable the Single sign-on (SSO)</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Optional Step: For demonstration purpose, enable Single sign-on (SSO)</span>
<span class="c1"># for the user</span>
<span class="n">sso_provider</span><span class="o">=</span><span class="s2">&quot;{fill in sso_provider}&quot;</span>
<span class="n">sso_email</span><span class="o">=</span><span class="s2">&quot;{fill in sso_email}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">sso_email</span><span class="o">=</span><span class="n">sso_email</span><span class="p">)</span>
<span class="n">sso_url</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">)</span> <span class="c1"># Authenticate using SSO</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sso_url</span><span class="p">)</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_sso_token</span><span class="p">()</span> <span class="c1"># Set SSO token</span>

<span class="c1"># Disable the Single sign-on (SSO) for the provider</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">disable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">))</span>

<span class="c1"># If you try to disable an already disabled SSO provider, an exception</span>
<span class="c1"># will be raised</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">User</span><span class="o">.</span><span class="n">disable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">disable_sso</span><span class="p">(</span>
    <span class="n">sso_provider</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disable Single sign-on (SSO) for the user</span>

<span class="sd">    Please do not pass the user parameter unless you are a super user. Only</span>
<span class="sd">    a super user can disable SSO for other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        sso_provider: The name of the Single sign-on (SSO) provider you want to disable.</span>
<span class="sd">            At present, the API only supports **&quot;google&quot;** and **&quot;github&quot;** as valid SSO identity providers.</span>
<span class="sd">        user: Account user_uuid/username to disable SSO. If not passed, then the default</span>
<span class="sd">            value **None** will be used to disable SSO for the currently logged-in user.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the SSO disabled user details</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If a non-super user tries to disable SSO for other users</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example to disable the Single sign-on (SSO)</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Optional Step: For demonstration purpose, enable Single sign-on (SSO)</span>
<span class="sd">        # for the user</span>
<span class="sd">        sso_provider=&quot;{fill in sso_provider}&quot;</span>
<span class="sd">        sso_email=&quot;{fill in sso_email}&quot;</span>
<span class="sd">        User.enable_sso(sso_provider=sso_provider, sso_email=sso_email)</span>
<span class="sd">        sso_url = Client.get_token(sso_provider=sso_provider) # Authenticate using SSO</span>
<span class="sd">        print(sso_url)</span>
<span class="sd">        Client.set_sso_token() # Set SSO token</span>

<span class="sd">        # Disable the Single sign-on (SSO) for the provider</span>
<span class="sd">        print(User.disable_sso(sso_provider=sso_provider))</span>

<span class="sd">        # If you try to disable an already disabled SSO provider, an exception</span>
<span class="sd">        # will be raised</span>
<span class="sd">        try:</span>
<span class="sd">            User.disable_sso(sso_provider=sso_provider)</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/user/sso/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/disable/</span><span class="si">{</span><span class="n">sso_provider</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">success_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Single sign-on (SSO) is successfully disabled for </span><span class="si">{</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;sso_provider&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>

    <span class="k">return</span> <span class="n">success_msg</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.enable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.enable" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Enable one or more disabled users.</p>
<p>To access this method, you must have super user privileges.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>user_uuid/username to enable. To enable multiple users, please pass the uuids/names as a list.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the details of the enabled user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example to enable a user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># Optional Step: For demonstration purpose, create a new user and disable them</span>
<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">first_name</span><span class="o">=</span><span class="s2">&quot;{fill in first_name}&quot;</span><span class="p">,</span>
    <span class="n">last_name</span><span class="o">=</span><span class="s2">&quot;{fill in last_name}&quot;</span><span class="p">,</span>
    <span class="n">email</span><span class="o">=</span><span class="s2">&quot;{fill in email}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">,</span>
    <span class="n">subscription_type</span><span class="o">=</span><span class="s2">&quot;{fill in subscription_type}&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">User</span><span class="o">.</span><span class="n">disable</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>

<span class="c1"># Display the details of the user you want to enable using their username/uuid</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">username</span><span class="p">))</span>

<span class="c1"># Enable the user</span>
<span class="c1"># To enable multiple users, pass a list of username/uuid</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>

<span class="c1"># Check whether the user has been enabled</span>
<span class="c1"># The disabled flag should be set to False, if the enable was sucessful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">username</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enable one or more disabled users.</span>

<span class="sd">    To access this method, you must have super user privileges.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user_uuid/username to enable. To enable multiple users, please pass the uuids/names as a list.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the details of the enabled user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example to enable a user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Optional Step: For demonstration purpose, create a new user and disable them</span>
<span class="sd">        username = &quot;{fill in username}&quot;</span>
<span class="sd">        User.create(</span>
<span class="sd">            username=username,</span>
<span class="sd">            first_name=&quot;{fill in first_name}&quot;,</span>
<span class="sd">            last_name=&quot;{fill in last_name}&quot;,</span>
<span class="sd">            email=&quot;{fill in email}&quot;,</span>
<span class="sd">            password=&quot;{fill in password}&quot;,</span>
<span class="sd">            subscription_type=&quot;{fill in subscription_type}&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        User.disable(user=username)</span>

<span class="sd">        # Display the details of the user you want to enable using their username/uuid</span>
<span class="sd">        print(User.details(username))</span>

<span class="sd">        # Enable the user</span>
<span class="sd">        # To enable multiple users, pass a list of username/uuid</span>
<span class="sd">        User.enable(user=username)</span>

<span class="sd">        # Check whether the user has been enabled</span>
<span class="sd">        # The disabled flag should be set to False, if the enable was sucessful</span>
<span class="sd">        print(User.details(username))</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_users</span> <span class="o">=</span> <span class="n">user</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">user</span><span class="p">]</span>
    <span class="n">response_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">_users</span><span class="p">:</span>
        <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/user/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/enable&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response_list</span><span class="p">)[</span><span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.enable_mfa" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.enable_mfa" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Enable MFA for the user</p>
<p>This method will generate a QR code. To finish the setup on your smartphone, scan the
QR code with an authenticator app such as Google Authenticator and follow the on-device
instructions. After you've completed the setup, call the <code>activate_mfa</code> method and pass the
current OTP from the authenticator application to verify and enable MFA for your account</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PilImage</code></td>
      <td><p>The generated QR code</p></td>
    </tr>
  </tbody>
</table>      <p>Here's an example to enable and activate MFA for the user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>

<span class="c1"># Enable MFA for the user</span>
<span class="c1"># The line below will generate a QR code. To finish the setup on your smartphone,</span>
<span class="c1"># scan the QR code with an authenticator app like Google Authenticator and</span>
<span class="c1"># follow the on-device instructions</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable_mfa</span><span class="p">()</span>

<span class="c1"># After you&#39;ve completed the setup, enter the current OTP from the authenticator</span>
<span class="c1"># app to verify and enable MFA for your account</span>
<span class="n">User</span><span class="o">.</span><span class="n">activate_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="c1"># The is_mfa_active flag should be set to True, if the setup is successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">enable_mfa</span><span class="p">(</span><span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PilImage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enable MFA for the user</span>

<span class="sd">    This method will generate a QR code. To finish the setup on your smartphone, scan the</span>
<span class="sd">    QR code with an authenticator app such as Google Authenticator and follow the on-device</span>
<span class="sd">    instructions. After you&#39;ve completed the setup, call the `activate_mfa` method and pass the</span>
<span class="sd">    current OTP from the authenticator application to verify and enable MFA for your account</span>

<span class="sd">    Args:</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated QR code</span>

<span class="sd">    Here&#39;s an example to enable and activate MFA for the user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>

<span class="sd">        # Enable MFA for the user</span>
<span class="sd">        # The line below will generate a QR code. To finish the setup on your smartphone,</span>
<span class="sd">        # scan the QR code with an authenticator app like Google Authenticator and</span>
<span class="sd">        # follow the on-device instructions</span>
<span class="sd">        User.enable_mfa()</span>

<span class="sd">        # After you&#39;ve completed the setup, enter the current OTP from the authenticator</span>
<span class="sd">        # app to verify and enable MFA for your account</span>
<span class="sd">        User.activate_mfa(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        # The is_mfa_active flag should be set to True, if the setup is successful</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qr_code</span> <span class="o">=</span> <span class="n">qrcode</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">_get_mfa_provision_url</span><span class="p">(</span><span class="n">otp</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">qr_code</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.enable_sso" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">sso_email</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.enable_sso" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Enable Single sign-on (SSO) for the user</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sso_provider</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Single sign-on (SSO) identity provider.
At present, the API only supports <strong>"google"</strong> and <strong>"github"</strong> as valid SSO identity providers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sso_email</code></td>
        <td><code>str</code></td>
        <td><p>Email id to be used for SSO authentication</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A pandas DataFrame encapsulating the user details</p></td>
    </tr>
  </tbody>
</table>      <p>Here's an example of authenticating with Single sign-on (SSO) using google and
setting the newly generated token to interact with the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Enable single sign-on (SSO) and use google as the provider</span>
<span class="n">sso_provider</span><span class="o">=</span><span class="s2">&quot;google&quot;</span>
<span class="n">sso_email</span><span class="o">=</span><span class="s2">&quot;{fill in sso_email}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">enable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">sso_email</span><span class="o">=</span><span class="n">sso_email</span><span class="p">)</span>

<span class="c1"># Authenticate using Single sign-on (SSO)</span>
<span class="c1"># To generate a token using SSO, you must first authenticate with the provider.</span>
<span class="c1"># The command below will generate an authorization URL for you.</span>
<span class="c1"># Please copy and paste it into your preferred browser and complete the</span>
<span class="c1"># SSO provider authentication within 10 minutes. Otherwise, the SSO login</span>
<span class="c1"># will time out and you will need to call the get_token method again.</span>
<span class="n">sso_url</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sso_url</span><span class="p">)</span>

<span class="c1"># Once the provider authentication is successful, call the below method to</span>
<span class="c1"># set the generated token</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_sso_token</span><span class="p">()</span>

<span class="c1"># If set_sso_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">enable_sso</span><span class="p">(</span><span class="n">sso_provider</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sso_email</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enable Single sign-on (SSO) for the user</span>

<span class="sd">    Args:</span>
<span class="sd">        sso_provider: Name of the Single sign-on (SSO) identity provider.</span>
<span class="sd">            At present, the API only supports **&quot;google&quot;** and **&quot;github&quot;** as valid SSO identity providers.</span>
<span class="sd">        sso_email: Email id to be used for SSO authentication</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the user details</span>

<span class="sd">    Here&#39;s an example of authenticating with Single sign-on (SSO) using google and</span>
<span class="sd">    setting the newly generated token to interact with the airt service.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Enable single sign-on (SSO) and use google as the provider</span>
<span class="sd">        sso_provider=&quot;google&quot;</span>
<span class="sd">        sso_email=&quot;{fill in sso_email}&quot;</span>
<span class="sd">        User.enable_sso(sso_provider=sso_provider, sso_email=sso_email)</span>

<span class="sd">        # Authenticate using Single sign-on (SSO)</span>
<span class="sd">        # To generate a token using SSO, you must first authenticate with the provider.</span>
<span class="sd">        # The command below will generate an authorization URL for you.</span>
<span class="sd">        # Please copy and paste it into your preferred browser and complete the</span>
<span class="sd">        # SSO provider authentication within 10 minutes. Otherwise, the SSO login</span>
<span class="sd">        # will time out and you will need to call the get_token method again.</span>
<span class="sd">        sso_url = Client.get_token(sso_provider=sso_provider)</span>
<span class="sd">        print(sso_url)</span>

<span class="sd">        # Once the provider authentication is successful, call the below method to</span>
<span class="sd">        # set the generated token</span>
<span class="sd">        Client.set_sso_token()</span>

<span class="sd">        # If set_sso_token fails, the line below will throw an error.</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/user/sso/enable&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">sso_provider</span><span class="o">=</span><span class="n">sso_provider</span><span class="p">,</span> <span class="n">sso_email</span><span class="o">=</span><span class="n">sso_email</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">success_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Single sign-on (SSO) is successfully enabled for </span><span class="si">{</span><span class="n">sso_provider</span><span class="si">}</span><span class="s2">. Please use </span><span class="si">{</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;sso_email&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> as the email address while authenticating with </span><span class="si">{</span><span class="n">sso_provider</span><span class="si">}</span><span class="s2">.&quot;</span>

    <span class="k">return</span> <span class="n">success_msg</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.ls" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of User instances available in the server.</p>
<p>To access this method, you must have super user privileges.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>offset</code></td>
        <td><code>int</code></td>
        <td><p>The number of users to offset at the beginning. If <strong>None</strong>, then the default value <strong>0</strong> will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of users to return from the server. If None, then the default value 100 will be used.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then only the deleted users will be returned. Else, the default value <strong>False</strong> will
be used to return only the list of active users.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[User]</code></td>
      <td><p>A list of User instances available in the server.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the details of all active users</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># Display the details of all active users</span>
<span class="c1"># Set the disabled parameter to True to display the details of inactive users</span>
<span class="n">ux</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">ux</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">ls</span><span class="p">(</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;User&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the list of User instances available in the server.</span>

<span class="sd">    To access this method, you must have super user privileges.</span>

<span class="sd">    Args:</span>
<span class="sd">        offset: The number of users to offset at the beginning. If **None**, then the default value **0** will be used.</span>
<span class="sd">        limit: The maximum number of users to return from the server. If None, then the default value 100 will be used.</span>
<span class="sd">        disabled: If set to **True**, then only the deleted users will be returned. Else, the default value **False** will</span>
<span class="sd">            be used to return only the list of active users.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of User instances available in the server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example of displaying the details of all active users</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # Display the details of all active users</span>
<span class="sd">        # Set the disabled parameter to True to display the details of inactive users</span>
<span class="sd">        ux = User.ls()</span>
<span class="sd">        print(User.as_df(ux))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">users</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/user/?disabled=</span><span class="si">{</span><span class="n">disabled</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">ux</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">User</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
            <span class="n">username</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">],</span>
            <span class="n">first_name</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;first_name&quot;</span><span class="p">],</span>
            <span class="n">last_name</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;last_name&quot;</span><span class="p">],</span>
            <span class="n">email</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">],</span>
            <span class="n">subscription_type</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;subscription_type&quot;</span><span class="p">],</span>
            <span class="n">super_user</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;super_user&quot;</span><span class="p">],</span>
            <span class="n">disabled</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
            <span class="n">created</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
            <span class="n">is_mfa_active</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">],</span>
            <span class="n">phone_number</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;phone_number&quot;</span><span class="p">],</span>
            <span class="n">is_phone_number_verified</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">ux</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.register_phone_number" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_phone_number</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.register_phone_number" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Register a phone number</p>
<p>Registering your phone number will help you to regain access in case you forget your password and cannot access
your account. To receive the OTP via SMS, you need to register and validate your phone number. Calling this
method will send an OTP via SMS to the phone number and you need to call the <code>validate_phone_number</code> method
with the OTP you have received to complete the registration and validation process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>phone_number</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Phone number to register. The phone number should follow the pattern of the country
code followed by your phone number. For example, <strong>440123456789, +440123456789,
00440123456789, +44 0123456789, and (+44) 012 345 6789</strong> are all valid formats for registering a
UK phone number. If the phone number is not passed in the arguments, then the OTP will be sent to
the phone number that was already registered to the user's account.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Union[str, bool]]</code></td>
      <td><p>A dict containing the updated user details</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of registering and validating a new phone number for the currently logged-in user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Display the phone number that is currently registered</span>
<span class="c1"># If no phone number has been registered, None will be displayed</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;phone_number&quot;</span><span class="p">])</span>

<span class="c1"># Register a new phone number.</span>
<span class="c1"># If you only want to validate an existing phone number, call the</span>
<span class="c1"># method below without the phone_number parameter</span>
<span class="n">User</span><span class="o">.</span><span class="n">register_phone_number</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="s2">&quot;{fill in phone_number}&quot;</span><span class="p">)</span>

<span class="c1"># The above method will send the OTP via SMS to the specified phone number,</span>
<span class="c1"># which you must enter below to complete the registration process</span>
<span class="n">User</span><span class="o">.</span><span class="n">validate_phone_number</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check whether the phone number has been updated and verified</span>
<span class="c1"># The is_phone_number_verified flag should be set to True, if the</span>
<span class="c1"># registration is successful</span>
<span class="n">user_details</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;phone_number&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">register_phone_number</span><span class="p">(</span>
    <span class="n">phone_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a phone number</span>

<span class="sd">    Registering your phone number will help you to regain access in case you forget your password and cannot access</span>
<span class="sd">    your account. To receive the OTP via SMS, you need to register and validate your phone number. Calling this</span>
<span class="sd">    method will send an OTP via SMS to the phone number and you need to call the `validate_phone_number` method</span>
<span class="sd">    with the OTP you have received to complete the registration and validation process.</span>

<span class="sd">    Args:</span>
<span class="sd">        phone_number: Phone number to register. The phone number should follow the pattern of the country</span>
<span class="sd">            code followed by your phone number. For example, **440123456789, +440123456789,</span>
<span class="sd">            00440123456789, +44 0123456789, and (+44) 012 345 6789** are all valid formats for registering a</span>
<span class="sd">            UK phone number. If the phone number is not passed in the arguments, then the OTP will be sent to</span>
<span class="sd">            the phone number that was already registered to the user&#39;s account.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the updated user details</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of registering and validating a new phone number for the currently logged-in user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Display the phone number that is currently registered</span>
<span class="sd">        # If no phone number has been registered, None will be displayed</span>
<span class="sd">        print(User.details()[&quot;phone_number&quot;])</span>

<span class="sd">        # Register a new phone number.</span>
<span class="sd">        # If you only want to validate an existing phone number, call the</span>
<span class="sd">        # method below without the phone_number parameter</span>
<span class="sd">        User.register_phone_number(phone_number=&quot;{fill in phone_number}&quot;)</span>

<span class="sd">        # The above method will send the OTP via SMS to the specified phone number,</span>
<span class="sd">        # which you must enter below to complete the registration process</span>
<span class="sd">        User.validate_phone_number(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check whether the phone number has been updated and verified</span>
<span class="sd">        # The is_phone_number_verified flag should be set to True, if the</span>
<span class="sd">        # registration is successful</span>
<span class="sd">        user_details = User.details()</span>
<span class="sd">        print(user_details[&quot;phone_number&quot;])</span>
<span class="sd">        print(user_details[&quot;is_phone_number_verified&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">phone_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">phone_number</span> <span class="o">=</span> <span class="n">standardize_phone_number</span><span class="p">(</span><span class="n">phone_number</span><span class="p">)</span>

    <span class="n">req_json</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/user/register_phone_number&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req_json</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.reset_password" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset_password</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.reset_password" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Resets the password of an account either using a TOTP or SMS OTP.</p>
<p>We currently support two types of OTPs to reset the password for your account and you don't have to be logged
in to call this method</p>
<p>If you have already activated the MFA for your account, then you can either pass the dynamically generated
six-digit verification code from the authenticator app (TOTP) or you can also request an OTP via SMS to your registered phone number.</p>
<p>If the MFA is not activated already, then you can only request the OTP via SMS to your registered phone number.</p>
<p>To get OTP by SMS, you must first call <code>send_sms_otp</code> method which will send the OTP to your registered
phone number. Once you have the OTP with you, then call this method with the OTP to reset your password.</p>
<p>Currently, we only support the above two methods for resetting the password. In case, you don't have MFA enabled or don't
have access to your registered phone number, please contact your administrator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>Account username to reset the password</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>new_password</code></td>
        <td><code>str</code></td>
        <td><p>New password to set for the account</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>str</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app or the OTP you have received
via SMS.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The password reset status message</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the username or OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example for resetting the password using the verification code generated by the authentication application.
The example assumes that you have already activated the MFA on your account and have access to the authentication application.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Details required to reset the password</span>
<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">new_password</span> <span class="o">=</span> <span class="s2">&quot;{fill in new_password}&quot;</span>
<span class="n">otp</span> <span class="o">=</span> <span class="s2">&quot;{fill in otp}&quot;</span> <span class="c1"># OTP generated by the authenticator app</span>

<span class="c1"># Reset the password</span>
<span class="n">User</span><span class="o">.</span><span class="n">reset_password</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">new_password</span><span class="o">=</span><span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Authenticate using the new credentials</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Check if get_token is successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>
      <p>Here's an example of a Non-MFA user resetting their password using the SMS OTP. The example assumes that you have already registered
and validated your phone number on our servers.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Request OTP via SMS to the registered phone number</span>
<span class="c1"># Please do not change the message_template_name</span>
<span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;reset_password&quot;</span><span class="p">)</span>

<span class="c1"># The above method will send the OTP via SMS to the registered phone number,</span>
<span class="c1"># which you must fill below along with your new password</span>
<span class="n">new_password</span> <span class="o">=</span> <span class="s2">&quot;{fill in new_password}&quot;</span>
<span class="n">otp</span> <span class="o">=</span> <span class="s2">&quot;{fill in otp}&quot;</span> <span class="c1"># OTP received via SMS</span>

<span class="c1"># Reset the password</span>
<span class="n">User</span><span class="o">.</span><span class="n">reset_password</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">new_password</span><span class="o">=</span><span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Authenticate using the new credentials</span>
<span class="c1"># MFA users must pass the otp generated by the authenticator app below</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">new_password</span><span class="p">)</span>

<span class="c1"># Check if get_token is successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">reset_password</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">otp</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resets the password of an account either using a TOTP or SMS OTP.</span>

<span class="sd">    We currently support two types of OTPs to reset the password for your account and you don&#39;t have to be logged</span>
<span class="sd">    in to call this method</span>

<span class="sd">    If you have already activated the MFA for your account, then you can either pass the dynamically generated</span>
<span class="sd">    six-digit verification code from the authenticator app (TOTP) or you can also request an OTP via SMS to your registered phone number.</span>

<span class="sd">    If the MFA is not activated already, then you can only request the OTP via SMS to your registered phone number.</span>

<span class="sd">    To get OTP by SMS, you must first call `send_sms_otp` method which will send the OTP to your registered</span>
<span class="sd">    phone number. Once you have the OTP with you, then call this method with the OTP to reset your password.</span>

<span class="sd">    Currently, we only support the above two methods for resetting the password. In case, you don&#39;t have MFA enabled or don&#39;t</span>
<span class="sd">    have access to your registered phone number, please contact your administrator.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: Account username to reset the password</span>
<span class="sd">        new_password: New password to set for the account</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app or the OTP you have received</span>
<span class="sd">            via SMS.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The password reset status message</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the username or OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example for resetting the password using the verification code generated by the authentication application.</span>
<span class="sd">    The example assumes that you have already activated the MFA on your account and have access to the authentication application.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Details required to reset the password</span>
<span class="sd">        username = &quot;{fill in username}&quot;</span>
<span class="sd">        new_password = &quot;{fill in new_password}&quot;</span>
<span class="sd">        otp = &quot;{fill in otp}&quot; # OTP generated by the authenticator app</span>

<span class="sd">        # Reset the password</span>
<span class="sd">        User.reset_password(username=username, new_password=new_password, otp=otp)</span>

<span class="sd">        # Authenticate using the new credentials</span>
<span class="sd">        Client.get_token(username=username, password=new_password, otp=otp)</span>

<span class="sd">        # Check if get_token is successful</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of a Non-MFA user resetting their password using the SMS OTP. The example assumes that you have already registered</span>
<span class="sd">    and validated your phone number on our servers.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Request OTP via SMS to the registered phone number</span>
<span class="sd">        # Please do not change the message_template_name</span>
<span class="sd">        username=&quot;{fill in username}&quot;</span>
<span class="sd">        User.send_sms_otp(username=username, message_template_name=&quot;reset_password&quot;)</span>

<span class="sd">        # The above method will send the OTP via SMS to the registered phone number,</span>
<span class="sd">        # which you must fill below along with your new password</span>
<span class="sd">        new_password = &quot;{fill in new_password}&quot;</span>
<span class="sd">        otp = &quot;{fill in otp}&quot; # OTP received via SMS</span>

<span class="sd">        # Reset the password</span>
<span class="sd">        User.reset_password(username=username, new_password=new_password, otp=otp)</span>

<span class="sd">        # Authenticate using the new credentials</span>
<span class="sd">        # MFA users must pass the otp generated by the authenticator app below</span>
<span class="sd">        Client.get_token(username=username, password=new_password)</span>

<span class="sd">        # Check if get_token is successful</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">req_json</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">new_password</span><span class="o">=</span><span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/user/reset_password&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req_json</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.send_sms_otp" class="doc doc-heading">
<code class="highlight language-python"><span class="n">send_sms_otp</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">message_template_name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.send_sms_otp" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Send OTP via SMS to the user's registered phone number</p>
<p>This method does not require a login, and you should only use it to reset your password,
disable MFA, or generate a new token using SMS OTP.</p>
<p>Calling this method will only send an OTP to your registered phone number via SMS. Following this method
call, you should explicitly call <code>reset_password</code>, <code>disable_mfa</code>, or <code>Client.get_token</code> to complete
the operation with the SMS OTP.</p>
<p>Please remember to pass a valid message_template_name along with the request. At present, the API
supports <strong>"reset_password"</strong>, <strong>"disable_mfa"</strong> and <strong>"get_token"</strong> as valid message templates.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>Account username to send the OTP</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>message_template_name</code></td>
        <td><code>str</code></td>
        <td><p>The message template to use while sending the OTP via SMS. At present,
the API supports <strong>"reset_password"</strong>, <strong>"disable_mfa"</strong> and <strong>"get_token"</strong> as valid message templates</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The SMS status message</p></td>
    </tr>
  </tbody>
</table>      <p>Here's an example of a Non-MFA user resetting their password using the SMS OTP. The example assumes that you have
already registered and validated your phone number on our servers.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Request OTP via SMS to the registered phone number</span>
<span class="c1"># Please do not change the message_template_name</span>
<span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;reset_password&quot;</span><span class="p">)</span>

<span class="c1"># The above method will send the OTP via SMS to the registered phone number,</span>
<span class="c1"># which you must fill below along with your new password</span>
<span class="n">new_password</span> <span class="o">=</span> <span class="s2">&quot;{fill in new_password}&quot;</span>
<span class="n">otp</span> <span class="o">=</span> <span class="s2">&quot;{fill in otp}&quot;</span> <span class="c1"># OTP received via SMS</span>

<span class="c1"># Reset the password</span>
<span class="n">User</span><span class="o">.</span><span class="n">reset_password</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">new_password</span><span class="o">=</span><span class="n">new_password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Authenticate using the new credentials</span>
<span class="c1"># MFA users must pass the otp generated by the authenticator app below</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">new_password</span><span class="p">)</span>

<span class="c1"># Check if get_token is successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>
      <p>Here's an example of how to disable MFA with SMS OTP, assuming you've already registered
and validated your phone number on our servers but don't have a valid token.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Optional Step: Request OTP via SMS to authenticate</span>
<span class="c1"># If you&#39;ve already logged in, you can skip the two optional steps</span>
<span class="c1"># If you&#39;ve already have a valid token, skip the below optional step</span>
<span class="c1"># and call Client.set_token instead of Client.get_token</span>
<span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;get_token&quot;</span> <span class="c1"># Don&#39;t change the message_template_name</span>
<span class="p">)</span>

<span class="c1"># Optional Step: Authenticate using SMS OTP</span>
<span class="c1"># The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="c1"># phone number, which you must fill below</span>
<span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span>
<span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>

<span class="c1"># Request OTP via SMS to disable MFA</span>
<span class="n">User</span><span class="o">.</span><span class="n">send_sms_otp</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
    <span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;disable_mfa&quot;</span> <span class="c1"># Don&#39;t change the message_template_name</span>
<span class="p">)</span>

<span class="c1"># The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="c1"># phone number, which you must fill below</span>
<span class="n">User</span><span class="o">.</span><span class="n">disable_mfa</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check the current MFA status</span>
<span class="c1"># The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;is_mfa_active&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">send_sms_otp</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message_template_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send OTP via SMS to the user&#39;s registered phone number</span>

<span class="sd">    This method does not require a login, and you should only use it to reset your password,</span>
<span class="sd">    disable MFA, or generate a new token using SMS OTP.</span>

<span class="sd">    Calling this method will only send an OTP to your registered phone number via SMS. Following this method</span>
<span class="sd">    call, you should explicitly call `reset_password`, `disable_mfa`, or `Client.get_token` to complete</span>
<span class="sd">    the operation with the SMS OTP.</span>

<span class="sd">    Please remember to pass a valid message_template_name along with the request. At present, the API</span>
<span class="sd">    supports **&quot;reset_password&quot;**, **&quot;disable_mfa&quot;** and **&quot;get_token&quot;** as valid message templates.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: Account username to send the OTP</span>
<span class="sd">        message_template_name: The message template to use while sending the OTP via SMS. At present,</span>
<span class="sd">            the API supports **&quot;reset_password&quot;**, **&quot;disable_mfa&quot;** and **&quot;get_token&quot;** as valid message templates</span>

<span class="sd">    Returns:</span>
<span class="sd">        The SMS status message</span>

<span class="sd">    Here&#39;s an example of a Non-MFA user resetting their password using the SMS OTP. The example assumes that you have</span>
<span class="sd">    already registered and validated your phone number on our servers.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Request OTP via SMS to the registered phone number</span>
<span class="sd">        # Please do not change the message_template_name</span>
<span class="sd">        username=&quot;{fill in username}&quot;</span>
<span class="sd">        User.send_sms_otp(username=username, message_template_name=&quot;reset_password&quot;)</span>

<span class="sd">        # The above method will send the OTP via SMS to the registered phone number,</span>
<span class="sd">        # which you must fill below along with your new password</span>
<span class="sd">        new_password = &quot;{fill in new_password}&quot;</span>
<span class="sd">        otp = &quot;{fill in otp}&quot; # OTP received via SMS</span>

<span class="sd">        # Reset the password</span>
<span class="sd">        User.reset_password(username=username, new_password=new_password, otp=otp)</span>

<span class="sd">        # Authenticate using the new credentials</span>
<span class="sd">        # MFA users must pass the otp generated by the authenticator app below</span>
<span class="sd">        Client.get_token(username=username, password=new_password)</span>

<span class="sd">        # Check if get_token is successful</span>
<span class="sd">        print(User.details())</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of how to disable MFA with SMS OTP, assuming you&#39;ve already registered</span>
<span class="sd">    and validated your phone number on our servers but don&#39;t have a valid token.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Optional Step: Request OTP via SMS to authenticate</span>
<span class="sd">        # If you&#39;ve already logged in, you can skip the two optional steps</span>
<span class="sd">        # If you&#39;ve already have a valid token, skip the below optional step</span>
<span class="sd">        # and call Client.set_token instead of Client.get_token</span>
<span class="sd">        username=&quot;{fill in username}&quot;</span>
<span class="sd">        User.send_sms_otp(</span>
<span class="sd">            username=username,</span>
<span class="sd">            message_template_name=&quot;get_token&quot; # Don&#39;t change the message_template_name</span>
<span class="sd">        )</span>

<span class="sd">        # Optional Step: Authenticate using SMS OTP</span>
<span class="sd">        # The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="sd">        # phone number, which you must fill below</span>
<span class="sd">        password=&quot;{fill in password}&quot;</span>
<span class="sd">        otp=&quot;{fill in otp}&quot;</span>
<span class="sd">        Client.get_token(username=username, password=password, otp=otp)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>

<span class="sd">        # Request OTP via SMS to disable MFA</span>
<span class="sd">        User.send_sms_otp(</span>
<span class="sd">            username=username,</span>
<span class="sd">            message_template_name=&quot;disable_mfa&quot; # Don&#39;t change the message_template_name</span>
<span class="sd">        )</span>

<span class="sd">        # The send_sms_otp method will send the OTP via SMS to the registered</span>
<span class="sd">        # phone number, which you must fill below</span>
<span class="sd">        User.disable_mfa(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check the current MFA status</span>
<span class="sd">        # The is_mfa_active flag should be set to False, if the disable was successful</span>
<span class="sd">        print(User.details()[&quot;is_mfa_active&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/user/send_sms_otp?username=</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">&amp;message_template_name=</span><span class="si">{</span><span class="n">message_template_name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.update" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Update existing user details in the server.</p>
<p>Please do not pass the optional user parameter unless you are a super user. Only a
 super user can update details for other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Account user_uuid/username to update. If not passed, then the default
value <strong>None</strong> will be used to update the currently logged-in user details.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>New username for the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>first_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>New first name for the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>last_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>New last name for the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>email</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>New email for the user.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if you have activated the MFA for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas DataFrame encapsulating the updated user details.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid/username is invalid or the user have insufficient permission to access other user's data</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of updating the email address of the logged-in user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Client</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Display the registered email address of the logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;email&quot;</span><span class="p">])</span>

<span class="c1"># Update the logged-in user&#39;s email address</span>
<span class="c1"># If you are a super user, you can update the details of other users by</span>
<span class="c1"># passing their uuid/username in the user parameter</span>
<span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;{fill in new_email}&quot;</span>
<span class="n">User</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">)</span>

<span class="c1"># Check whether the email address has been updated for the logged-in user</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;email&quot;</span><span class="p">])</span>

<span class="c1"># If you try to use an already used email address, an exception will be raised.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">User</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update existing user details in the server.</span>

<span class="sd">     Please do not pass the optional user parameter unless you are a super user. Only a</span>
<span class="sd">     super user can update details for other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: Account user_uuid/username to update. If not passed, then the default</span>
<span class="sd">            value **None** will be used to update the currently logged-in user details.</span>
<span class="sd">        username: New username for the user.</span>
<span class="sd">        first_name: New first name for the user.</span>
<span class="sd">        last_name: New last name for the user.</span>
<span class="sd">        email: New email for the user.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if you have activated the MFA for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame encapsulating the updated user details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the user_uuid/username is invalid or the user have insufficient permission to access other user&#39;s data</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of updating the email address of the logged-in user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import User, Client</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Display the registered email address of the logged-in user</span>
<span class="sd">        print(User.details()[&quot;email&quot;])</span>

<span class="sd">        # Update the logged-in user&#39;s email address</span>
<span class="sd">        # If you are a super user, you can update the details of other users by</span>
<span class="sd">        # passing their uuid/username in the user parameter</span>
<span class="sd">        email = &quot;{fill in new_email}&quot;</span>
<span class="sd">        User.update(email=email)</span>

<span class="sd">        # Check whether the email address has been updated for the logged-in user</span>
<span class="sd">        print(User.details()[&quot;email&quot;])</span>

<span class="sd">        # If you try to use an already used email address, an exception will be raised.</span>
<span class="sd">        try:</span>
<span class="sd">            User.update(email=email)</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
    <span class="n">req_json</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">first_name</span><span class="o">=</span><span class="n">first_name</span><span class="p">,</span>
        <span class="n">last_name</span><span class="o">=</span><span class="n">last_name</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span>
        <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/user/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/update&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req_json</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="n">User</span><span class="o">.</span><span class="n">USER_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.User.validate_phone_number" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_phone_number</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.User.validate_phone_number" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Validate a registered phone number</p>
<p>Please call the <code>register_phone_number</code> method to get the OTP via SMS and then call this method
with the OTP to complete the registration and validation process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The OTP you have received on your registered phone number.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Union[str, bool]]</code></td>
      <td><p>A dict containing the updated user details</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>Here's an example of registering and validating a new phone number for the currently logged-in user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Display the phone number that is currently registered</span>
<span class="c1"># If no phone number has been registered, None will be displayed</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()[</span><span class="s2">&quot;phone_number&quot;</span><span class="p">])</span>

<span class="c1"># Register a new phone number.</span>
<span class="c1"># If you only want to validate an existing phone number, call the</span>
<span class="c1"># method below without the phone_number parameter</span>
<span class="n">User</span><span class="o">.</span><span class="n">register_phone_number</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="s2">&quot;{fill in phone_number}&quot;</span><span class="p">)</span>

<span class="c1"># The above method will send the OTP via SMS to the specified phone number,</span>
<span class="c1"># which you must enter below to complete the registration process</span>
<span class="n">User</span><span class="o">.</span><span class="n">validate_phone_number</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="s2">&quot;{fill in otp}&quot;</span><span class="p">)</span>

<span class="c1"># Check whether the phone number has been updated and verified</span>
<span class="c1"># The is_phone_number_verified flag should be set to True, if the</span>
<span class="c1"># registration is successful</span>
<span class="n">user_details</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;phone_number&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_details</span><span class="p">[</span><span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">validate_phone_number</span><span class="p">(</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a registered phone number</span>

<span class="sd">    Please call the `register_phone_number` method to get the OTP via SMS and then call this method</span>
<span class="sd">    with the OTP to complete the registration and validation process.</span>

<span class="sd">    Args:</span>
<span class="sd">        otp: The OTP you have received on your registered phone number.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the updated user details</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    Here&#39;s an example of registering and validating a new phone number for the currently logged-in user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, User</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Display the phone number that is currently registered</span>
<span class="sd">        # If no phone number has been registered, None will be displayed</span>
<span class="sd">        print(User.details()[&quot;phone_number&quot;])</span>

<span class="sd">        # Register a new phone number.</span>
<span class="sd">        # If you only want to validate an existing phone number, call the</span>
<span class="sd">        # method below without the phone_number parameter</span>
<span class="sd">        User.register_phone_number(phone_number=&quot;{fill in phone_number}&quot;)</span>

<span class="sd">        # The above method will send the OTP via SMS to the specified phone number,</span>
<span class="sd">        # which you must enter below to complete the registration process</span>
<span class="sd">        User.validate_phone_number(otp=&quot;{fill in otp}&quot;)</span>

<span class="sd">        # Check whether the phone number has been updated and verified</span>
<span class="sd">        # The is_phone_number_verified flag should be set to True, if the</span>
<span class="sd">        # registration is successful</span>
<span class="sd">        user_details = User.details()</span>
<span class="sd">        print(user_details[&quot;phone_number&quot;])</span>
<span class="sd">        print(user_details[&quot;is_phone_number_verified&quot;])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/user/validate_phone_number&quot;</span>

    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="captn.client.cls" class="doc doc-heading">
        <code>
cls        </code>



<a href="#captn.client.cls" class="headerlink" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents ">

      <p>A class for managing the APIKeys in the server.</p>
<p>Both the APIKey and the token can be used for accessing the captn services. However, there is a slight difference in generating and managing the two.</p>
<p>For generating the APIKey, you first need to get the developer token. Please refer to <code>Client.get_token</code> method documentation to generate one.</p>
<p>After logging in with your developer token, you can create any number of new APIKeys and can set an expiration date individually. You can also access
other methods available in the APIKey class to list, revoke the APIKey at any time.</p>
<p>Here's an example of how to use the APIKey class to create a new key and use it to access the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">,</span> <span class="n">User</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a new key with the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">new_key</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># Call the set_token method to set the newly generated key</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">new_key</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">])</span>

<span class="c1"># Print the logged-in user details</span>
<span class="c1"># If set_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
</code></pre></div>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#captn.client.cls.__init__" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Constructs a new APIKey instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>str</code></td>
        <td><p>APIKey uuid.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey name.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expiry</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey expiry date.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disabled</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Flag to indicate the status of the APIKey.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>created</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>APIKey creation date.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">expiry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a new APIKey instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: APIKey uuid.</span>
<span class="sd">        name: APIKey name.</span>
<span class="sd">        expiry: APIKey expiry date.</span>
<span class="sd">        disabled: Flag to indicate the status of the APIKey.</span>
<span class="sd">        created: APIKey creation date.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">expiry</span> <span class="o">=</span> <span class="n">expiry</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">disabled</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.as_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.cls.as_df" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the details of APIKey instances in a pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ax</code></td>
        <td><code>List[APIKey]</code></td>
        <td><p>List of APIKey instances.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>Details of all the APIKeys in a dataframe.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the APIKeys generated by the currently logged-in user in a dataframe</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display all the APIKey instance details in a pandas dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the details of APIKey instances in a pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        ax: List of APIKey instances.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Details of all the APIKeys in a dataframe.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example of displaying the APIKeys generated by the currently logged-in user in a dataframe</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Display all the APIKey instance details in a pandas dataframe</span>
<span class="sd">        df = APIKey.as_df(APIKey.ls())</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="n">get_attributes_from_instances</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">lists</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.create" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.cls.create" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Create a new APIKey</p>
<p>In order to access the captn service with the newly generated APIKey, please call the <code>Client.set_token</code> method
or set the APIKey value in the <strong>CAPTN_SERVICE_TOKEN</strong> environment variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>The APIKey's name must be unique. If not, an exception will be raised while creating a new key with the name of an existing key.
However, you can create a new key with the name of a revoked key.</p>
</li>
<li>
<p>The expiry for an APIKey is optional, if not passed then the default value <strong>None</strong> will be used to create an APIKey with no expiry date!</p>
</li>
</ul>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the APIKey.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expiry</code></td>
        <td><code>Union[int, datetime.timedelta, datetime.datetime]</code></td>
        <td><p>The validity for the APIKey. This can be an integer representing the number of days till expiry, can be
an instance of timedelta (timedelta(days=x)) or can be an instance of datetime. If not passed, then the default value
<strong>None</strong> will be used to create a APIKey that will never expire!</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if the MFA is enabled for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>The APIKey and its type as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user is not authenticated.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user tries to create a new APIKey with an existing key name.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>In the following example, a new APIKey is created with a 10-day expiration date and used to access the captn service.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key with the given name and set the expiry to 10 days from now.</span>
<span class="c1"># If the expiry parameter is not specified, a key with no expiry date is created.</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">new_key_details</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># If a new key with the same name is created, an exception will be raised.</span>
<span class="c1"># However, you can create a new key with the name of a revoked key.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should not print this, the above line should raise an exception&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">RuntimeException</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected to fail, everything is fine&quot;</span><span class="p">)</span>

<span class="c1"># Finally, either call the below method to set the newly generated key</span>
<span class="c1"># or store it in the CAPTN_SERVICE_TOKEN environment variable.</span>
<span class="n">Client</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">new_key_details</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">])</span>

<span class="c1"># If set_token fails, the line below will throw an error.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">create</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">expiry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new APIKey</span>

<span class="sd">    In order to access the airt service with the newly generated APIKey, please call the `Client.set_token` method</span>
<span class="sd">    or set the APIKey value in the **AIRT_SERVICE_TOKEN** environment variable.</span>

<span class="sd">    !!! note</span>

<span class="sd">        - The APIKey&#39;s name must be unique. If not, an exception will be raised while creating a new key with the name of an existing key.</span>
<span class="sd">        However, you can create a new key with the name of a revoked key.</span>

<span class="sd">        - The expiry for an APIKey is optional, if not passed then the default value **None** will be used to create an APIKey with no expiry date!</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the APIKey.</span>
<span class="sd">        expiry: The validity for the APIKey. This can be an integer representing the number of days till expiry, can be</span>
<span class="sd">            an instance of timedelta (timedelta(days=x)) or can be an instance of datetime. If not passed, then the default value</span>
<span class="sd">            **None** will be used to create a APIKey that will never expire!</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if the MFA is enabled for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The APIKey and its type as a dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the user is not authenticated.</span>
<span class="sd">        ValueError: If the user tries to create a new APIKey with an existing key name.</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    In the following example, a new APIKey is created with a 10-day expiration date and used to access the airt service.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key with the given name and set the expiry to 10 days from now.</span>
<span class="sd">        # If the expiry parameter is not specified, a key with no expiry date is created.</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        new_key_details = APIKey.create(name=key_name, expiry=10)</span>

<span class="sd">        # Display the details of the newly created key</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>

<span class="sd">        # If a new key with the same name is created, an exception will be raised.</span>
<span class="sd">        # However, you can create a new key with the name of a revoked key.</span>
<span class="sd">        try:</span>
<span class="sd">            APIKey.create(name=key_name, expiry=10)</span>
<span class="sd">            print(&quot;Should not print this, the above line should raise an exception&quot;)</span>
<span class="sd">            raise RuntimeException()</span>

<span class="sd">        except ValueError as e:</span>
<span class="sd">            print(&quot;Expected to fail, everything is fine&quot;)</span>

<span class="sd">        # Finally, either call the below method to set the newly generated key</span>
<span class="sd">        # or store it in the AIRT_SERVICE_TOKEN environment variable.</span>
<span class="sd">        Client.set_token(token=new_key_details[&quot;access_token&quot;])</span>

<span class="sd">        # If set_token fails, the line below will throw an error.</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">expiry</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expiry_date</span> <span class="o">=</span> <span class="n">expiry</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">expiry</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">expiry</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">expiry</span>

        <span class="n">expiry_date</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">_post_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="s2">&quot;/apikey&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="n">expiry_date</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="n">otp</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.cls.details" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return details of an APIKey.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>apikey</code></td>
        <td><code>str</code></td>
        <td><p>APIKey uuid/name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas Dataframe encapsulating the details of the APIKey.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the APIKey uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example to get details of an APIKey</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Display the details of the newly created key</span>
<span class="nb">print</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">key_name</span><span class="p">))</span>

<span class="c1"># To display the details of all keys created by the user, use the method below.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="n">apikey</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of an APIKey.</span>

<span class="sd">    Args:</span>
<span class="sd">        apikey: APIKey uuid/name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas Dataframe encapsulating the details of the APIKey.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the APIKey uuid is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example to get details of an APIKey</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Display the details of the newly created key</span>
<span class="sd">        print(APIKey.details(apikey=key_name))</span>

<span class="sd">        # To display the details of all keys created by the user, use the method below.</span>
<span class="sd">        df = APIKey.as_df(APIKey.ls())</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/apikey/</span><span class="si">{</span><span class="n">apikey</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">details</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">include_disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.cls.ls" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of APIKeys instances.</p>
<p>Please do not pass the <strong>user</strong> parameter unless you are a super user. Only a super user can view
the APIKeys created by other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>user_uuid/username associated with the APIKey. Please call <code>User.details</code> method of the User class to get your user_uuid.
If not passed, then the currently logged-in user_uuid will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>offset</code></td>
        <td><code>int</code></td>
        <td><p>The number of APIKeys to offset at the beginning. If None, then the default value 0 will be used.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of APIKeys to return from the server. If None, then the default value 100 will be used.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>include_disabled</code></td>
        <td><code>bool</code></td>
        <td><p>If set to <strong>True</strong>, then the disabled APIKeys will also be included in the result.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[APIKey]</code></td>
      <td><p>A list of APIKey instances.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid is invalid.</p></td>
      </tr>
  </tbody>
</table>      <p>An example of displaying the APIKeys generated by the currently logged-in user</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Get the list of all APIKey instances created by the currently logged-in user.</span>
<span class="c1"># If you are a super user, you can view the APIkeys created by other users by</span>
<span class="c1"># passing their uuid/username in the user parameter.</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Display the details of the instances in a pandas dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">ls</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">include_disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the list of APIKeys instances.</span>

<span class="sd">    Please do not pass the **user** parameter unless you are a super user. Only a super user can view</span>
<span class="sd">    the APIKeys created by other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user_uuid/username associated with the APIKey. Please call `User.details` method of the User class to get your user_uuid.</span>
<span class="sd">            If not passed, then the currently logged-in user_uuid will be used.</span>
<span class="sd">        offset: The number of APIKeys to offset at the beginning. If None, then the default value 0 will be used.</span>
<span class="sd">        limit: The maximum number of APIKeys to return from the server. If None, then the default value 100 will be used.</span>
<span class="sd">        include_disabled: If set to **True**, then the disabled APIKeys will also be included in the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of APIKey instances.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>
<span class="sd">        ValueError: If the user_uuid is invalid.</span>

<span class="sd">    An example of displaying the APIKeys generated by the currently logged-in user</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Get the list of all APIKey instances created by the currently logged-in user.</span>
<span class="sd">        # If you are a super user, you can view the APIkeys created by other users by</span>
<span class="sd">        # passing their uuid/username in the user parameter.</span>
<span class="sd">        ax = APIKey.ls()</span>
<span class="sd">        print(ax)</span>

<span class="sd">        # Display the details of the instances in a pandas dataframe</span>
<span class="sd">        df = APIKey.as_df(ax)</span>
<span class="sd">        print(df)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>

    <span class="n">apikeys</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_get_data</span><span class="p">(</span>
        <span class="n">relative_url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/apikey?include_disabled=</span><span class="si">{</span><span class="n">include_disabled</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">APIKey</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">expiry</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;expiry&quot;</span><span class="p">],</span>
            <span class="n">disabled</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
            <span class="n">created</span><span class="o">=</span><span class="n">apikey</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">apikey</span> <span class="ow">in</span> <span class="n">apikeys</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">ax</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="captn.client.cls.revoke" class="doc doc-heading">
<code class="highlight language-python"><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#captn.client.cls.revoke" class="headerlink" title="Permanent link">¤</a></h3>

    <div class="doc doc-contents ">

      <p>Revoke one or more APIKeys</p>
<p>Please do not pass the <strong>user</strong> parameter unless you are a super user. Only a super user can revoke the
APIKeys created by other users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>keys</code></td>
        <td><code>Union[str, List[str], List[APIKey]]</code></td>
        <td><p>APIKey uuid/name to revoke. To revoke multiple keys, either pass a list of APIKey uuid/names or a list of APIKey instances.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>user_uuid/username associated with the APIKey. Please call <code>User.details</code> method of the User class to get your user_uuid/username.
If not passed, then the currently logged-in user will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>otp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Dynamically generated six-digit verification code from the authenticator app. Please pass this
parameter only if the MFA is enabled for your account.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>A pandas Dataframe encapsulating the details of the deleted APIKey(s).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the APIKey uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the user_uuid is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the OTP is invalid.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the server address is invalid or not reachable.</p></td>
      </tr>
  </tbody>
</table>      <p>An example to revoke a single APIKey by name</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in username}&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in password}&quot;</span><span class="p">)</span>

<span class="c1"># Create a key without an expiry date in the given name</span>
<span class="n">key_name</span> <span class="o">=</span> <span class="s2">&quot;{fill in key_name}&quot;</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Check that the newly created key exists</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()])</span>

<span class="c1"># Revoke the newly created key</span>
<span class="c1"># To delete multiple keys, pass a list of key names or key instances</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">key_name</span><span class="p">)</span>

<span class="c1"># Check that the newly created key does not exists</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">()])</span>
</code></pre></div>
      <p>Here's an example of a super user revoking all APIkeys generated by a specific user.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="c1"># Importing necessary libraries</span>
<span class="kn">from</span>  <span class="nn">captn.client</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">APIKey</span>

<span class="c1"># Authenticate with super user privileges</span>
<span class="n">Client</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
    <span class="n">username</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_username}&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;{fill in super_user_password}&quot;</span>
<span class="p">)</span>

<span class="c1"># List the APIKeys generated by a specific user</span>
<span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;{fill in other_username}&quot;</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">])</span>

<span class="c1"># Revoke the APIKeys</span>
<span class="n">APIKey</span><span class="o">.</span><span class="n">revoke</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>

<span class="c1"># Check that all APIkeys have been revoked</span>
<span class="nb">print</span><span class="p">([</span><span class="n">key</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)])</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>captn/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">revoke</span><span class="p">(</span>
    <span class="n">keys</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;APIKey&quot;</span><span class="p">]],</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">otp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Revoke one or more APIKeys</span>

<span class="sd">    Please do not pass the **user** parameter unless you are a super user. Only a super user can revoke the</span>
<span class="sd">    APIKeys created by other users.</span>

<span class="sd">    Args:</span>
<span class="sd">        keys: APIKey uuid/name to revoke. To revoke multiple keys, either pass a list of APIKey uuid/names or a list of APIKey instances.</span>
<span class="sd">        user: user_uuid/username associated with the APIKey. Please call `User.details` method of the User class to get your user_uuid/username.</span>
<span class="sd">            If not passed, then the currently logged-in user will be used.</span>
<span class="sd">        otp: Dynamically generated six-digit verification code from the authenticator app. Please pass this</span>
<span class="sd">            parameter only if the MFA is enabled for your account.</span>

<span class="sd">    Returns:</span>
<span class="sd">         A pandas Dataframe encapsulating the details of the deleted APIKey(s).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the APIKey uuid is invalid.</span>
<span class="sd">        ValueError: If the user_uuid is invalid.</span>
<span class="sd">        ValueError: If the OTP is invalid.</span>
<span class="sd">        ConnectionError: If the server address is invalid or not reachable.</span>

<span class="sd">    An example to revoke a single APIKey by name</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate</span>
<span class="sd">        Client.get_token(username=&quot;{fill in username}&quot;, password=&quot;{fill in password}&quot;)</span>

<span class="sd">        # Create a key without an expiry date in the given name</span>
<span class="sd">        key_name = &quot;{fill in key_name}&quot;</span>
<span class="sd">        APIKey.create(name=key_name)</span>

<span class="sd">        # Check that the newly created key exists</span>
<span class="sd">        print([key.name for key in APIKey.ls()])</span>

<span class="sd">        # Revoke the newly created key</span>
<span class="sd">        # To delete multiple keys, pass a list of key names or key instances</span>
<span class="sd">        APIKey.revoke(keys=key_name)</span>

<span class="sd">        # Check that the newly created key does not exists</span>
<span class="sd">        print([key.name for key in APIKey.ls()])</span>
<span class="sd">        ```</span>

<span class="sd">    Here&#39;s an example of a super user revoking all APIkeys generated by a specific user.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Importing necessary libraries</span>
<span class="sd">        from  airt.client import Client, APIKey</span>

<span class="sd">        # Authenticate with super user privileges</span>
<span class="sd">        Client.get_token(</span>
<span class="sd">            username=&quot;{fill in super_user_username}&quot;,</span>
<span class="sd">            password=&quot;{fill in super_user_password}&quot;</span>
<span class="sd">        )</span>

<span class="sd">        # List the APIKeys generated by a specific user</span>
<span class="sd">        user = &quot;{fill in other_username}&quot;</span>
<span class="sd">        ax = APIKey.ls(user=user)</span>
<span class="sd">        print([key.name for key in ax])</span>

<span class="sd">        # Revoke the APIKeys</span>
<span class="sd">        APIKey.revoke(keys=ax, user=user)</span>

<span class="sd">        # Check that all APIkeys have been revoked</span>
<span class="sd">        print([key.name for key in APIKey.ls(user=user)])</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_uuid</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">details</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
    <span class="n">_keys</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">_get_key_names</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

    <span class="n">response_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">key_uuid</span> <span class="ow">in</span> <span class="n">_keys</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">user_uuid</span><span class="si">}</span><span class="s2">/apikey/</span><span class="si">{</span><span class="n">key_uuid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">_delete_data</span><span class="p">(</span>
            <span class="n">relative_url</span><span class="o">=</span><span class="n">check_and_append_otp_query_param</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">otp</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">generate_df</span><span class="p">(</span><span class="n">response_list</span><span class="p">,</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">API_KEY_COLS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2022 onwards, airt.ai
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
    and 
    <a href="https://nbdev-mkdocs.airt.ai/" target="_blank" rel="noopener">
      Material for nbdev
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.407015b8.min.js"></script>
      
        <script src="../../../overrides/js/extra.js"></script>
      
        <script src="../../../overrides/js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>